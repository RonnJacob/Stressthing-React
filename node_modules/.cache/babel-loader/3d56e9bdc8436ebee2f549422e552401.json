{"ast":null,"code":"import _toConsumableArray from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/ronn/Desktop/HackUMass/StressThing/src/components/recipes/FavoriteRecipes.js\";\nimport React from 'react';\nimport RegularUserServices from \"../../services/RegularUserServices\";\nimport RecipeCard from \"../LandingPage/RecipeCard\";\nimport '../../assets/landingpage/css/sidebar.css';\nimport '../Explore/Explore.css';\nimport MealDBServices from \"../../services/MealDBServices\";\nimport { Link } from \"react-router-dom\";\n\nvar FavoriteRecipes =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(FavoriteRecipes, _React$Component);\n\n  function FavoriteRecipes(props) {\n    var _this;\n\n    _classCallCheck(this, FavoriteRecipes);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FavoriteRecipes).call(this, props));\n\n    _this.sortAscend = function () {\n      var unsortedRecipes = _this.state.recipes;\n      var sortedRecipes = unsortedRecipes.sort(_this.compareAsc);\n\n      _this.setState({\n        recipes: sortedRecipes,\n        sorted: 1\n      });\n\n      _this.mealDBServices.findAllRecipes().then(function (recipes) {\n        _this.setState({\n          unsortedRecipes: recipes.meals\n        });\n      });\n    };\n\n    _this.sortDescend = function () {\n      var dummy = _this.state.recipes; // const unsortedRecipes=this.state.recipes;\n\n      console.log();\n      var sortedRecipes = dummy.sort(_this.compareDesc);\n\n      _this.setState({\n        recipes: sortedRecipes,\n        sorted: 1\n      });\n\n      _this.mealDBServices.findAllRecipes().then(function (recipes) {\n        _this.setState({\n          unsortedRecipes: recipes.meals\n        });\n      });\n    };\n\n    _this.resetSort = function () {\n      var favorites = []; // this.mealDBServices.findAllCategories()\n      //     .then(filterCategory => {\n      //         this.setState\n      //         ({filterCategory: filterCategory.meals})\n      //     });\n\n      _this.regularUserServices.findFavoriteRecipes(_this.state.userId).then(function (recipes) {\n        recipes.map(function (recipe) {\n          console.log(\"Inside the map Recipe = \" + recipe.name);\n          favorites = [].concat(_toConsumableArray(favorites), [recipe]);\n          console.log(\"Inside the map Array of recipes = \" + favorites.length);\n        });\n      }).then(function () {\n        return _this.regularUserServices.findFavoriteRecipeId(_this.state.userId);\n      }).then(function (recipeIds) {\n        recipeIds.map(function (recipeId) {\n          if (recipeId.length === 5) {\n            _this.mealDBServices.findRecipeById(recipeId).then(function (recipeFromAPI) {\n              var recipeFound = {};\n              recipeFound._id = recipeFromAPI.meals[0].idMeal;\n              recipeFound.id = recipeFromAPI.meals[0].idMeal;\n              recipeFound.name = recipeFromAPI.meals[0].strMeal;\n              recipeFound.ingredients = recipeFromAPI.meals[0].strIngredient1 + ',' + recipeFromAPI.meals[0].strIngredient2 + ',' + recipeFromAPI.meals[0].strIngredient3 + ',' + recipeFromAPI.meals[0].strIngredient4 + ',' + recipeFromAPI.meals[0].strIngredient5;\n              recipeFound.steps = recipeFromAPI.meals[0].strInstructions;\n              recipeFound.image = recipeFromAPI.meals[0].strMealThumb;\n              recipeFound.endorsedByChef = [];\n              recipeFound.endorsedByNutritionist = [];\n              recipeFound.ownedBy = \"Anonymous\";\n              recipeFound.category = \"Miscellaneous\";\n              recipeFound.idMeal = recipeFromAPI.meals[0].idMeal;\n              recipeFound._id = recipeFromAPI.meals[0].idMeal;\n              favorites = [].concat(_toConsumableArray(favorites), [recipeFound]);\n              favorites = favorites.filter(function (a) {\n                return !this[a._id] && (this[a._id] = true);\n              }, Object.create(null));\n            }).then(function () {\n              //alert(finalFavorites.length)\n              _this.setState({\n                recipes: favorites\n              });\n            });\n          }\n        });\n      });\n    };\n\n    _this.mealDBServices = new MealDBServices();\n    _this.regularUserServices = new RegularUserServices();\n    var userId = props.match.params['userId'];\n    _this.state = {\n      recipes: [],\n      unsortedRecipes: [],\n      searchRecipe: '',\n      popularRecipes: [],\n      filterCategory: [],\n      sorted: 0,\n      currentPage: 1,\n      recipesPerPage: 6,\n      userId: userId,\n      fav: []\n    };\n    return _this;\n  }\n\n  _createClass(FavoriteRecipes, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      document.title = \"Favorite Recipes\";\n      var favorites = [];\n      this.regularUserServices.findFavoriteRecipes(this.state.userId).then(function (recipes) {\n        recipes.map(function (recipe) {\n          favorites = [].concat(_toConsumableArray(favorites), [recipe]);\n        });\n      }).then(function () {\n        return _this2.regularUserServices.findFavoriteRecipeId(_this2.state.userId).then(function (recipeIds) {\n          recipeIds.map(function (recipeId) {\n            console.log();\n\n            if (recipeId.length === 5) {\n              _this2.mealDBServices.findRecipeById(recipeId).then(function (recipeFromAPI) {\n                var recipeFound = {};\n                recipeFound._id = recipeFromAPI.meals[0].idMeal;\n                recipeFound.name = recipeFromAPI.meals[0].strMeal;\n                recipeFound.ingredients = recipeFromAPI.meals[0].strIngredient1 + ',' + recipeFromAPI.meals[0].strIngredient2 + ',' + recipeFromAPI.meals[0].strIngredient3 + ',' + recipeFromAPI.meals[0].strIngredient4 + ',' + recipeFromAPI.meals[0].strIngredient5;\n                recipeFound.steps = recipeFromAPI.meals[0].strInstructions;\n                recipeFound.image = recipeFromAPI.meals[0].strMealThumb;\n                recipeFound.endorsedByChef = [];\n                recipeFound.endorsedByNutritionist = [];\n                recipeFound.ownedBy = \"Anonymous\";\n                recipeFound.category = \"Miscellaneous\";\n                favorites = [].concat(_toConsumableArray(favorites), [recipeFound]);\n                favorites = favorites.filter(function (a) {\n                  return !this[a._id] && (this[a._id] = true);\n                }, Object.create(null));\n              }).then(function () {\n                _this2.setState({\n                  recipes: favorites\n                });\n              });\n            }\n          });\n        });\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      var favorites = [];\n      this.mealDBServices.findAllCategories().then(function (filterCategory) {\n        _this3.setState({\n          filterCategory: filterCategory.meals\n        });\n      });\n      this.regularUserServices.findFavoriteRecipes(this.state.userId).then(function (recipes) {\n        recipes.map(function (recipe) {\n          favorites = [].concat(_toConsumableArray(favorites), [recipe]);\n        });\n      }).then(function () {\n        return _this3.regularUserServices.findFavoriteRecipeId(_this3.state.userId);\n      }).then(function (recipeIds) {\n        recipeIds.map(function (recipeId) {\n          if (recipeId.length === 5) {\n            _this3.mealDBServices.findRecipeById(recipeId).then(function (recipeFromAPI) {\n              var recipeFound = {};\n              recipeFound._id = recipeFromAPI.meals[0].idMeal;\n              recipeFound.id = recipeFromAPI.meals[0].idMeal;\n              recipeFound.name = recipeFromAPI.meals[0].strMeal;\n              recipeFound.ingredients = recipeFromAPI.meals[0].strIngredient1 + ',' + recipeFromAPI.meals[0].strIngredient2 + ',' + recipeFromAPI.meals[0].strIngredient3 + ',' + recipeFromAPI.meals[0].strIngredient4 + ',' + recipeFromAPI.meals[0].strIngredient5;\n              recipeFound.steps = recipeFromAPI.meals[0].strInstructions;\n              recipeFound.image = recipeFromAPI.meals[0].strMealThumb;\n              recipeFound.endorsedByChef = [];\n              recipeFound.endorsedByNutritionist = [];\n              recipeFound.ownedBy = \"Anonymous\";\n              recipeFound.category = \"Miscellaneous\";\n              recipeFound.idMeal = recipeFromAPI.meals[0].idMeal;\n              recipeFound._id = recipeFromAPI.meals[0].idMeal;\n              favorites = [].concat(_toConsumableArray(favorites), [recipeFound]);\n              favorites = favorites.filter(function (a) {\n                return !this[a._id] && (this[a._id] = true);\n              }, Object.create(null));\n            }).then(function () {\n              //alert(finalFavorites.length)\n              _this3.setState({\n                unSortedRecipes: favorites\n              });\n            });\n          }\n        });\n      });\n    }\n  }, {\n    key: \"compareAsc\",\n    value: function compareAsc(a, b) {\n      // Use toUpperCase() to ignore character casing\n      var recipeA = a.strMeal ? a.strMeal.toUpperCase() : a.name.toUpperCase();\n      var recipeB = b.strMeal ? b.strMeal.toUpperCase() : b.name.toUpperCase();\n      var comparison = 0;\n\n      if (recipeA > recipeB) {\n        comparison = 1;\n      } else if (recipeA < recipeB) {\n        comparison = -1;\n      }\n\n      return comparison;\n    }\n  }, {\n    key: \"compareDesc\",\n    value: function compareDesc(a, b) {\n      // Use toUpperCase() to ignore character casing\n      var recipeA = a.strMeal ? a.strMeal.toUpperCase() : a.name.toUpperCase();\n      var recipeB = b.strMeal ? b.strMeal.toUpperCase() : b.name.toUpperCase();\n      var comparison = 0;\n\n      if (recipeA > recipeB) {\n        comparison = 1;\n      } else if (recipeA < recipeB) {\n        comparison = -1;\n      }\n\n      return comparison * -1;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        className: \"table-area section-padding\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"section-top2 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, \"My \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, \"Favorite\"), \" recipes\"), React.createElement(\"p\", {\n        className: \"text-white link-nav\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, React.createElement(Link, {\n        className: \"text-white link-nav\",\n        to: \"/home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, \"Home \"), \" \", React.createElement(\"span\", {\n        className: \"lnr lnr-arrow-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }), React.createElement(Link, {\n        className: \"text-white link-nav\",\n        to: \"/user/\".concat(this.state.userId, \"/favorites\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }, \" Favorite Recipes\")))))))), React.createElement(\"section\", {\n        className: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"filter-bar d-flex flex-wrap align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sorting\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"sorting mr-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"pagination\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"#\",\n        className: \"prev-arrow head\",\n        onClick: this.sortAscend,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-sort-alpha-asc\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      })), React.createElement(\"a\", {\n        href: \"#\",\n        className: \"next-arrow head\",\n        onClick: this.sortDescend,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-sort-alpha-desc\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      })), React.createElement(\"a\", {\n        href: \"#\",\n        onClick: this.resetSort,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }, \"reset\")))), React.createElement(\"div\", {\n        className: \"food-area \",\n        id: \"food-area\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }, this.state.recipes && this.state.recipes.map(function (recipe) {\n        return React.createElement(RecipeCard, {\n          popularRecipe: recipe,\n          recipeOwner: recipe.ownedBy ? recipe.ownedBy : \"Anonymous\",\n          loggedIn: !!_this4.state.userId,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 328\n          },\n          __self: this\n        });\n      }))))))));\n    }\n  }]);\n\n  return FavoriteRecipes;\n}(React.Component);\n\nexport default FavoriteRecipes;","map":{"version":3,"sources":["/Users/ronn/Desktop/HackUMass/StressThing/src/components/recipes/FavoriteRecipes.js"],"names":["React","RegularUserServices","RecipeCard","MealDBServices","Link","FavoriteRecipes","props","sortAscend","unsortedRecipes","state","recipes","sortedRecipes","sort","compareAsc","setState","sorted","mealDBServices","findAllRecipes","then","meals","sortDescend","dummy","console","log","compareDesc","resetSort","favorites","regularUserServices","findFavoriteRecipes","userId","map","recipe","name","length","findFavoriteRecipeId","recipeIds","recipeId","findRecipeById","recipeFromAPI","recipeFound","_id","idMeal","id","strMeal","ingredients","strIngredient1","strIngredient2","strIngredient3","strIngredient4","strIngredient5","steps","strInstructions","image","strMealThumb","endorsedByChef","endorsedByNutritionist","ownedBy","category","filter","a","Object","create","match","params","searchRecipe","popularRecipes","filterCategory","currentPage","recipesPerPage","fav","document","title","findAllCategories","unSortedRecipes","b","recipeA","toUpperCase","recipeB","comparison","Component"],"mappings":"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","sourcesContent":["import React from 'react'\n\nimport RegularUserServices from \"../../services/RegularUserServices\";\nimport RecipeCard from \"../LandingPage/RecipeCard\";\nimport '../../assets/landingpage/css/sidebar.css'\nimport '../Explore/Explore.css'\nimport MealDBServices from \"../../services/MealDBServices\";\nimport {Link} from \"react-router-dom\";\n\n\nclass FavoriteRecipes extends React.Component {\n    constructor(props) {\n        super(props);\n        this.mealDBServices = new MealDBServices();\n        this.regularUserServices = new RegularUserServices();\n        const userId = props.match.params['userId'];\n        this.state = {\n            recipes: [],\n            unsortedRecipes: [],\n            searchRecipe: '',\n            popularRecipes: [],\n            filterCategory: [],\n            sorted: 0,\n            currentPage: 1,\n            recipesPerPage: 6,\n            userId: userId,\n            fav: []\n        };\n    }\n\n    componentWillMount() {\n        document.title = \"Favorite Recipes\";\n        var favorites = [];\n        this.regularUserServices.findFavoriteRecipes(this.state.userId)\n            .then(recipes => {\n                recipes.map(recipe => {\n                        favorites = [...favorites, recipe];\n                    }\n                )\n            })\n            .then(() => this.regularUserServices.findFavoriteRecipeId(this.state.userId)\n            .then(recipeIds => {\n                recipeIds.map(recipeId => {\n                    console.log()\n                    if (recipeId.length === 5) {\n                        this.mealDBServices.findRecipeById(recipeId)\n                            .then(recipeFromAPI => {\n                                let recipeFound = {};\n                                recipeFound._id=recipeFromAPI.meals[0].idMeal;\n                                recipeFound.name = recipeFromAPI.meals[0].strMeal\n                                recipeFound.ingredients = recipeFromAPI.meals[0].strIngredient1 + ',' +\n                                    recipeFromAPI.meals[0].strIngredient2 + ',' +\n                                    recipeFromAPI.meals[0].strIngredient3 + ',' +\n                                    recipeFromAPI.meals[0].strIngredient4 + ',' +\n                                    recipeFromAPI.meals[0].strIngredient5\n                                recipeFound.steps = recipeFromAPI.meals[0].strInstructions\n                                recipeFound.image = recipeFromAPI.meals[0].strMealThumb\n                                recipeFound.endorsedByChef = []\n                                recipeFound.endorsedByNutritionist = []\n                                recipeFound.ownedBy = \"Anonymous\"\n                                recipeFound.category = \"Miscellaneous\"\n                                favorites = [...favorites, recipeFound]\n                                favorites = favorites.filter(function (a) {\n                                    return !this[a._id] && (this[a._id] = true);\n                                }, Object.create(null));\n                            }).then(() => {\n                            this.setState({\n                                recipes: favorites\n                            });\n                        });\n                    }\n                })\n            }));\n    }\n\n\n\n\n    componentDidMount() {\n        var favorites = [];\n        this.mealDBServices.findAllCategories()\n            .then(filterCategory => {\n                this.setState\n                ({filterCategory: filterCategory.meals})\n            });\n        this.regularUserServices.findFavoriteRecipes(this.state.userId)\n            .then(recipes => {\n                recipes.map(recipe => {\n                        favorites = [...favorites, recipe]\n                 }\n                )\n            }).then(() => this.regularUserServices.findFavoriteRecipeId(this.state.userId))\n            .then(recipeIds => {\n                recipeIds.map(recipeId => {\n                    if (recipeId.length === 5) {\n                        this.mealDBServices.findRecipeById(recipeId)\n                            .then(recipeFromAPI => {\n                                let recipeFound = {};\n                                recipeFound._id=recipeFromAPI.meals[0].idMeal;\n                                recipeFound.id=recipeFromAPI.meals[0].idMeal;\n                                recipeFound.name = recipeFromAPI.meals[0].strMeal\n                                recipeFound.ingredients = recipeFromAPI.meals[0].strIngredient1 + ',' +\n                                    recipeFromAPI.meals[0].strIngredient2 + ',' +\n                                    recipeFromAPI.meals[0].strIngredient3 + ',' +\n                                    recipeFromAPI.meals[0].strIngredient4 + ',' +\n                                    recipeFromAPI.meals[0].strIngredient5\n                                recipeFound.steps = recipeFromAPI.meals[0].strInstructions\n                                recipeFound.image = recipeFromAPI.meals[0].strMealThumb\n                                recipeFound.endorsedByChef = []\n                                recipeFound.endorsedByNutritionist = []\n                                recipeFound.ownedBy = \"Anonymous\"\n                                recipeFound.category = \"Miscellaneous\"\n                                recipeFound.idMeal = recipeFromAPI.meals[0].idMeal\n                                recipeFound._id = recipeFromAPI.meals[0].idMeal\n                                favorites = [...favorites, recipeFound]\n\n                                favorites = favorites.filter(function (a) {\n                                    return !this[a._id] && (this[a._id] = true);\n                                }, Object.create(null));\n\n\n                            }).then(() => {\n                            //alert(finalFavorites.length)\n                            this.setState({\n                                unSortedRecipes: favorites\n                            })\n                        });\n                    }\n                })\n\n            })\n\n    }\n\n\n\n\n    compareAsc(a, b) {\n        // Use toUpperCase() to ignore character casing\n        const recipeA = a.strMeal ? a.strMeal.toUpperCase() : a.name.toUpperCase();\n        const recipeB = b.strMeal ? b.strMeal.toUpperCase() : b.name.toUpperCase();\n\n        let comparison = 0;\n        if (recipeA > recipeB) {\n            comparison = 1;\n        } else if (recipeA < recipeB) {\n            comparison = -1;\n        }\n        return comparison;\n    }\n\n    compareDesc(a, b) {\n        // Use toUpperCase() to ignore character casing\n        const recipeA = a.strMeal ? a.strMeal.toUpperCase() : a.name.toUpperCase();\n        const recipeB = b.strMeal ? b.strMeal.toUpperCase() : b.name.toUpperCase();\n\n        let comparison = 0;\n        if (recipeA > recipeB) {\n            comparison = 1;\n        } else if (recipeA < recipeB) {\n            comparison = -1;\n        }\n        return comparison * -1;\n    }\n\n    sortAscend = () => {\n        var unsortedRecipes = this.state.recipes;\n        const sortedRecipes = unsortedRecipes.sort(this.compareAsc);\n\n        this.setState\n        ({\n            recipes: sortedRecipes,\n            sorted: 1\n        })\n        this.mealDBServices.findAllRecipes()\n            .then(recipes => {\n                this.setState\n                ({\n\n                    unsortedRecipes: recipes.meals\n                })\n            });\n\n    };\n\n    sortDescend = () => {\n        var dummy = this.state.recipes;\n        // const unsortedRecipes=this.state.recipes;\n        console.log()\n        const sortedRecipes = dummy.sort(this.compareDesc);\n\n        this.setState\n        ({\n            recipes: sortedRecipes,\n            sorted: 1\n        })\n        this.mealDBServices.findAllRecipes()\n            .then(recipes => {\n                this.setState\n                ({\n\n                    unsortedRecipes: recipes.meals\n                })\n            });\n\n\n    };\n\n    resetSort = () => {\n\n        var favorites = [];\n        // this.mealDBServices.findAllCategories()\n        //     .then(filterCategory => {\n        //         this.setState\n        //         ({filterCategory: filterCategory.meals})\n        //     });\n        this.regularUserServices.findFavoriteRecipes(this.state.userId)\n            .then(recipes => {\n                recipes.map(recipe => {\n                        console.log(\"Inside the map Recipe = \" + recipe.name)\n                        favorites = [...favorites, recipe]\n                        console.log(\"Inside the map Array of recipes = \" + favorites.length)\n                    }\n                )\n            }).then(() => this.regularUserServices.findFavoriteRecipeId(this.state.userId))\n            .then(recipeIds => {\n                recipeIds.map(recipeId => {\n                    if (recipeId.length === 5) {\n                        this.mealDBServices.findRecipeById(recipeId)\n                            .then(recipeFromAPI => {\n                                let recipeFound = {};\n                                recipeFound._id=recipeFromAPI.meals[0].idMeal;\n                                recipeFound.id=recipeFromAPI.meals[0].idMeal;\n                                recipeFound.name = recipeFromAPI.meals[0].strMeal\n                                recipeFound.ingredients = recipeFromAPI.meals[0].strIngredient1 + ',' +\n                                    recipeFromAPI.meals[0].strIngredient2 + ',' +\n                                    recipeFromAPI.meals[0].strIngredient3 + ',' +\n                                    recipeFromAPI.meals[0].strIngredient4 + ',' +\n                                    recipeFromAPI.meals[0].strIngredient5\n                                recipeFound.steps = recipeFromAPI.meals[0].strInstructions\n                                recipeFound.image = recipeFromAPI.meals[0].strMealThumb\n                                recipeFound.endorsedByChef = []\n                                recipeFound.endorsedByNutritionist = []\n                                recipeFound.ownedBy = \"Anonymous\"\n                                recipeFound.category = \"Miscellaneous\"\n                                recipeFound.idMeal = recipeFromAPI.meals[0].idMeal\n                                recipeFound._id = recipeFromAPI.meals[0].idMeal\n                                favorites = [...favorites, recipeFound]\n\n                                favorites = favorites.filter(function (a) {\n                                    return !this[a._id] && (this[a._id] = true);\n                                }, Object.create(null));\n\n\n                            }).then(() => {\n                            //alert(finalFavorites.length)\n                            this.setState({\n                                recipes: favorites\n                            })\n                        });\n                    }\n                })\n\n            })\n    }\n\n\n    render() {\n        return (\n\n            <div>\n                {/*<LandingPageHeader/>*/}\n                <div id=\"header\">\n                    {/*<HomePageNav/>*/}\n                </div>\n                <div>\n                    <section className=\"table-area section-padding\">\n                        <div className=\"container-fluid\">\n                            <div className=\"row\">\n                                <div className=\"col-lg-12\">\n                                    <div className=\"section-top2 text-center\">\n                                        <h3>My <span>Favorite</span> recipes</h3>\n\n                                        <p className=\"text-white link-nav\"><Link className=\"text-white link-nav\"\n                                                                                 to={`/home`}>Home </Link> <span\n\n                                            className=\"lnr lnr-arrow-right\"></span>\n                                            <Link className=\"text-white link-nav\"\n                                                  to={`/user/${this.state.userId}/favorites`}> Favorite Recipes</Link>\n\n\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n                </div>\n\n                <section className=\"header\">\n                    <div className=\"row\">\n\n                        <div className=\"container-fluid\">\n                            <div className=\"filter-bar d-flex flex-wrap align-items-center\">\n                                <div className=\"sorting\">\n\n                                </div>\n                                <div className=\"sorting mr-auto\">\n                                    <div className=\"pagination\">\n                                        <a href=\"#\" className=\"prev-arrow head\" onClick={this.sortAscend}><i\n                                            className=\"fa fa-sort-alpha-asc\"\n                                            aria-hidden=\"true\"></i></a>\n                                        <a href=\"#\" className=\"next-arrow head\" onClick={this.sortDescend}><i\n                                            className=\"fa fa-sort-alpha-desc\"\n                                            aria-hidden=\"true\"></i></a>\n\n                                        <a href=\"#\" onClick={this.resetSort}>reset</a>\n\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"food-area \" id={\"food-area\"}>\n                                <div className=\"container\">\n                                    <div className=\"row\">\n                                        {\n                                            (this.state.recipes)\n                                            &&(this.state.recipes.map(recipe =>\n                                                    <RecipeCard popularRecipe={recipe} recipeOwner={recipe.ownedBy?recipe.ownedBy:\"Anonymous\"} loggedIn={!!this.state.userId}/>)\n                                            )\n                                        }\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n\n            </div>\n        )\n    }\n}\n\nexport default FavoriteRecipes;\n"]},"metadata":{},"sourceType":"module"}