{"ast":null,"code":"import _toConsumableArray from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/ronn/Desktop/HackUMass/StressThing/src/components/Explore/ExploreRecipes.js\";\nimport React from 'react';\nimport MealDBServices from \"../../services/MealDBServices\";\nimport RecipeCard from \"../LandingPage/RecipeCard\";\nimport GuestNav from \"../LandingPage/GuestNav\";\nimport FilterRecipes from \"./FilterRecipes\";\nimport './Explore.css';\nimport { getFromStorage } from \"../../utils/storage\";\nimport UserServices from \"../../services/UserServices\";\nimport { NoResults } from \"../LandingPage/NoResults\";\nimport { Link } from \"react-router-dom\";\nimport '../../../node_modules/bootstrap/dist/css/bootstrap.css';\nimport RecipeServices from \"../../services/RecipeServices\";\nimport '../../assets/landingpage/css/sidebar.css';\n\nvar ExploreRecipes =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ExploreRecipes, _React$Component);\n\n  function ExploreRecipes(props) {\n    var _this;\n\n    _classCallCheck(this, ExploreRecipes);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ExploreRecipes).call(this, props));\n\n    _this.handleClick = function (event) {\n      return _this.setState({\n        currentPage: Number(event.target.id)\n      });\n    };\n\n    _this.findAllCuisines = function () {\n      _this.mealDBServices.findAllCuisines().then(function (filterCategory) {\n        _this.setState({\n          filterCategory: filterCategory.meals\n        });\n      });\n    };\n\n    _this.findAllCategories = function () {\n      _this.mealDBServices.findAllCategories().then(function (filterCategory) {\n        _this.setState({\n          filterCategory: filterCategory.meals\n        });\n      });\n    };\n\n    _this.findRecipesByCategory = function (category) {\n      if (category !== \"Miscellaneous\") {\n        _this.mealDBServices.findRecipesByCategory(category).then(function (recipes) {\n          _this.setState({\n            recipes: recipes.meals,\n            unsortedRecipes: recipes.meals\n          });\n        });\n      }\n\n      if (category === \"Miscellaneous\") {\n        var allRecipes = [];\n\n        _this.recipeServices.findAllRecipes().then(function (recipeFromDb) {\n          recipeFromDb.map(function (eachRecipeFromDb) {\n            var recipeFound = {};\n            recipeFound.idMeal = eachRecipeFromDb._id;\n            recipeFound.strMeal = eachRecipeFromDb.name;\n            var ingr = [];\n            ingr = recipeFromDb.ingredients && recipeFromDb.ingredients.length > 0 ? recipeFromDb.ingredients.split(',') : [];\n\n            if (ingr.length > 0) {\n              recipeFound.strIngredient1 = ingr[0];\n              ingr.length > 1 ? recipeFound.strIngredient2 = ingr[0] : recipeFound.strIngredient2 = '';\n              ingr.length > 2 ? recipeFound.strIngredient3 = ingr[0] : recipeFound.strIngredient3 = '';\n              ingr.length > 3 ? recipeFound.strIngredient4 = ingr[0] : recipeFound.strIngredient4 = '';\n              ingr.length > 4 ? recipeFound.strIngredient5 = ingr[0] : recipeFound.strIngredient5 = '';\n            }\n\n            recipeFound.strInstructions = eachRecipeFromDb.steps;\n            recipeFound.strMealThumb = eachRecipeFromDb.image;\n            recipeFound.endorsedByChef = eachRecipeFromDb.endorsedByChef;\n            recipeFound.endorsedByNutritionist = eachRecipeFromDb.endorsedByNutritionist;\n            recipeFound.ownedBy = eachRecipeFromDb.ownedBy;\n            recipeFound.strCategory = \"Miscellaneous\";\n            allRecipes = [].concat(_toConsumableArray(allRecipes), [recipeFound]);\n            console.log(\"After db count\" + allRecipes.length);\n          });\n        }).then(function () {\n          return _this.setState({\n            recipes: allRecipes\n          });\n        }); // allRecipes.map(eachRecipe=>{\n        //})\n\n      }\n    };\n\n    _this.findRecipesByCuisine = function (cuisine) {\n      _this.mealDBServices.findRecipesByCuisines(cuisine).then(function (recipes) {\n        _this.setState({\n          recipes: recipes.meals\n        });\n      });\n    };\n\n    _this.searchRecipe = function (recipe) {\n      // this.mealDBServices.findRecipeByName(recipe).then(recipes => {\n      //\n      //     this.setState\n      //     ({\n      //         recipes: recipes.meals,\n      //         searched: recipe\n      //     })\n      //\n      // });\n      var allRecipes = [];\n      var updatedSearch = recipe.replace(\" \", \"&\");\n\n      _this.mealDBServices.findRecipeByName(updatedSearch).then(function (recipes) {\n        recipes.meals && recipes.meals.map(function (recipe) {\n          allRecipes = [].concat(_toConsumableArray(allRecipes), [recipe]);\n          console.log(\"After API count\" + allRecipes.length);\n        });\n      }).then(function () {\n        return _this.recipeServices.searchRecipeByName(recipe).then(function (recipeFromDb) {\n          recipeFromDb.map(function (eachRecipeFromDb) {\n            var recipeFound = {};\n            recipeFound.idMeal = eachRecipeFromDb._id;\n            recipeFound.strMeal = eachRecipeFromDb.name;\n            var ingr = [];\n            ingr = recipeFromDb.ingredients && recipeFromDb.ingredients.length > 0 ? recipeFromDb.ingredients.split(',') : [];\n\n            if (ingr.length > 0) {\n              recipeFound.strIngredient1 = ingr[0];\n              ingr.length > 1 ? recipeFound.strIngredient2 = ingr[0] : recipeFound.strIngredient2 = '';\n              ingr.length > 2 ? recipeFound.strIngredient3 = ingr[0] : recipeFound.strIngredient3 = '';\n              ingr.length > 3 ? recipeFound.strIngredient4 = ingr[0] : recipeFound.strIngredient4 = '';\n              ingr.length > 4 ? recipeFound.strIngredient5 = ingr[0] : recipeFound.strIngredient5 = '';\n            }\n\n            recipeFound.strInstructions = eachRecipeFromDb.steps;\n            recipeFound.strMealThumb = eachRecipeFromDb.image;\n            recipeFound.endorsedByChef = eachRecipeFromDb.endorsedByChef;\n            recipeFound.endorsedByNutritionist = eachRecipeFromDb.endorsedByNutritionist;\n            recipeFound.ownedBy = eachRecipeFromDb.ownedBy;\n            recipeFound.strCategory = \"Miscellaneous\";\n            allRecipes = [].concat(_toConsumableArray(allRecipes), [recipeFound]);\n            console.log(\"After db count\" + allRecipes.length);\n          });\n        }).then(function () {\n          _this.setState({\n            recipes: allRecipes,\n            searched: recipe\n          });\n        });\n      });\n    };\n\n    _this.sortAscend = function () {\n      var unsortedRecipes = _this.state.recipes;\n      var sortedRecipes = unsortedRecipes.sort(_this.compareAsc);\n\n      _this.setState({\n        recipes: sortedRecipes,\n        sorted: 1\n      });\n\n      _this.mealDBServices.findAllRecipes().then(function (recipes) {\n        _this.setState({\n          unsortedRecipes: recipes.meals\n        });\n      });\n    };\n\n    _this.sortDescend = function () {\n      var dummy = _this.state.recipes; // const unsortedRecipes=this.state.recipes;\n\n      console.log();\n      var sortedRecipes = dummy.sort(_this.compareDesc);\n\n      _this.setState({\n        recipes: sortedRecipes,\n        sorted: 1\n      });\n\n      _this.mealDBServices.findAllRecipes().then(function (recipes) {\n        _this.setState({\n          unsortedRecipes: recipes.meals\n        });\n      });\n    };\n\n    _this.logOut = function () {\n      var obj = getFromStorage('project_april');\n\n      if (obj && obj.token) {\n        var token = obj.token;\n\n        _this.userServices.logOutUser(token).then(function (json) {\n          console.log(json);\n\n          if (json.success) {\n            _this.setState({\n              token: ''\n            });\n          }\n        });\n      }\n    };\n\n    _this.resetSort = function () {\n      var allRecipes = [];\n\n      _this.mealDBServices.findAllRecipes().then(function (recipes) {\n        recipes.meals.map(function (recipe) {\n          allRecipes = [].concat(_toConsumableArray(allRecipes), [recipe]);\n          console.log(\"After API count\" + allRecipes.length);\n        });\n      }).then(function () {\n        return _this.recipeServices.findAllRecipes().then(function (recipeFromDb) {\n          recipeFromDb.map(function (eachRecipeFromDb) {\n            var recipeFound = {};\n            recipeFound.idMeal = eachRecipeFromDb._id;\n            recipeFound.strMeal = eachRecipeFromDb.name;\n            var ingr = [];\n            ingr = recipeFromDb.ingredients && recipeFromDb.ingredients.length > 0 ? recipeFromDb.ingredients.split(',') : [];\n\n            if (ingr.length > 0) {\n              recipeFound.strIngredient1 = ingr[0];\n              ingr.length > 1 ? recipeFound.strIngredient2 = ingr[0] : recipeFound.strIngredient2 = '';\n              ingr.length > 2 ? recipeFound.strIngredient3 = ingr[0] : recipeFound.strIngredient3 = '';\n              ingr.length > 3 ? recipeFound.strIngredient4 = ingr[0] : recipeFound.strIngredient4 = '';\n              ingr.length > 4 ? recipeFound.strIngredient5 = ingr[0] : recipeFound.strIngredient5 = '';\n            }\n\n            recipeFound.strInstructions = eachRecipeFromDb.steps;\n            recipeFound.strMealThumb = eachRecipeFromDb.image;\n            recipeFound.endorsedByChef = eachRecipeFromDb.endorsedByChef;\n            recipeFound.endorsedByNutritionist = eachRecipeFromDb.endorsedByNutritionist;\n            recipeFound.ownedBy = eachRecipeFromDb.ownedBy;\n            recipeFound.strCategory = \"Miscellaneous\";\n            allRecipes = [].concat(_toConsumableArray(allRecipes), [recipeFound]);\n            console.log(\"After db count\" + allRecipes.length);\n          });\n        }).then(function () {\n          _this.setState({\n            recipes: allRecipes\n          });\n        });\n      });\n    };\n\n    _this.searchChanged = function (event) {\n      _this.setState({\n        searchRecipe: event.target.value\n      });\n    };\n\n    _this.mealDBServices = new MealDBServices();\n    _this.recipeServices = new RecipeServices();\n\n    var _obj = getFromStorage('project_april');\n\n    _this.state = {\n      recipes: [],\n      unsortedRecipes: [],\n      searchRecipe: '',\n      popularRecipes: [],\n      filterCategory: [],\n      sorted: 0,\n      currentPage: 1,\n      loggedIn: false,\n      user: _obj && _obj.user[0] ? _obj.user[0] : '',\n      userId: _obj && _obj.user[0]._id ? _obj.user[0]._id : '',\n      recipesPerPage: 6,\n      searched: ''\n    };\n    _this.searchRecipe = _this.searchRecipe.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.userServices = new UserServices();\n    return _this;\n  }\n\n  _createClass(ExploreRecipes, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      document.title = \"Explore Recipes\";\n      var obj = getFromStorage('project_april');\n      this.mealDBServices.findAllRecipes().then(function (recipes) {\n        _this2.setState({\n          recipes: recipes.meals\n        });\n      });\n\n      if (obj && obj.token) {\n        var token = obj.token;\n        this.userServices.verifyUser(token).then(function (json) {\n          console.log(json);\n\n          if (json.success) {\n            var allRecipes = [];\n\n            _this2.setState({\n              loggedIn: true\n            });\n\n            _this2.mealDBServices.findAllRecipes().then(function (recipes) {\n              recipes.meals.map(function (recipe) {\n                allRecipes = [].concat(_toConsumableArray(allRecipes), [recipe]);\n                console.log(\"After API count\" + allRecipes.length);\n              });\n            }).then(function () {\n              return _this2.recipeServices.findAllRecipes().then(function (recipeFromDb) {\n                recipeFromDb.map(function (eachRecipeFromDb) {\n                  var recipeFound = {};\n                  recipeFound.idMeal = eachRecipeFromDb._id;\n                  recipeFound.strMeal = eachRecipeFromDb.name;\n                  var ingr = [];\n                  ingr = recipeFromDb.ingredients && recipeFromDb.ingredients.length > 0 ? recipeFromDb.ingredients.split(',') : [];\n\n                  if (ingr.length > 0) {\n                    recipeFound.strIngredient1 = ingr[0];\n                    ingr.length > 1 ? recipeFound.strIngredient2 = ingr[0] : recipeFound.strIngredient2 = '';\n                    ingr.length > 2 ? recipeFound.strIngredient3 = ingr[0] : recipeFound.strIngredient3 = '';\n                    ingr.length > 3 ? recipeFound.strIngredient4 = ingr[0] : recipeFound.strIngredient4 = '';\n                    ingr.length > 4 ? recipeFound.strIngredient5 = ingr[0] : recipeFound.strIngredient5 = '';\n                  }\n\n                  recipeFound.strInstructions = eachRecipeFromDb.steps;\n                  recipeFound.strMealThumb = eachRecipeFromDb.image;\n                  recipeFound.endorsedByChef = eachRecipeFromDb.endorsedByChef;\n                  recipeFound.endorsedByNutritionist = eachRecipeFromDb.endorsedByNutritionist;\n                  recipeFound.ownedBy = eachRecipeFromDb.ownedBy;\n                  recipeFound.strCategory = \"Miscellaneous\";\n                  allRecipes = [].concat(_toConsumableArray(allRecipes), [recipeFound]);\n                  console.log(\"After db count\" + allRecipes.length);\n                });\n              }).then(function () {\n                _this2.setState({\n                  recipes: allRecipes\n                });\n              });\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      this.mealDBServices.findAllCategories().then(function (filterCategory) {\n        _this3.setState({\n          filterCategory: filterCategory.meals\n        });\n      });\n      var allRecipes = [];\n      this.mealDBServices.findAllRecipes().then(function (recipes) {\n        recipes.meals.map(function (recipe) {\n          allRecipes = [].concat(_toConsumableArray(allRecipes), [recipe]);\n          console.log(\"After API count\" + allRecipes.length);\n        });\n      }).then(function () {\n        return _this3.recipeServices.findAllRecipes().then(function (recipeFromDb) {\n          recipeFromDb.map(function (eachRecipeFromDb) {\n            var recipeFound = {};\n            recipeFound.idMeal = eachRecipeFromDb._id;\n            recipeFound.strMeal = eachRecipeFromDb.name;\n            var ingr = [];\n            ingr = recipeFromDb.ingredients && recipeFromDb.ingredients.length > 0 ? recipeFromDb.ingredients.split(',') : [];\n\n            if (ingr.length > 0) {\n              recipeFound.strIngredient1 = ingr[0];\n              ingr.length > 1 ? recipeFound.strIngredient2 = ingr[0] : recipeFound.strIngredient2 = '';\n              ingr.length > 2 ? recipeFound.strIngredient3 = ingr[0] : recipeFound.strIngredient3 = '';\n              ingr.length > 3 ? recipeFound.strIngredient4 = ingr[0] : recipeFound.strIngredient4 = '';\n              ingr.length > 4 ? recipeFound.strIngredient5 = ingr[0] : recipeFound.strIngredient5 = '';\n            }\n\n            recipeFound.strInstructions = eachRecipeFromDb.steps;\n            recipeFound.strMealThumb = eachRecipeFromDb.image;\n            recipeFound.endorsedByChef = eachRecipeFromDb.endorsedByChef;\n            recipeFound.endorsedByNutritionist = eachRecipeFromDb.endorsedByNutritionist;\n            recipeFound.ownedBy = eachRecipeFromDb.ownedBy;\n            recipeFound.strCategory = \"Miscellaneous\";\n            allRecipes = [].concat(_toConsumableArray(allRecipes), [recipeFound]);\n            console.log(\"After db count\" + allRecipes.length);\n          });\n        }).then(function () {\n          _this3.setState({\n            unSortedRecipes: allRecipes\n          });\n        });\n      });\n    }\n  }, {\n    key: \"compareAsc\",\n    value: function compareAsc(a, b) {\n      // Use toUpperCase() to ignore character casing\n      var recipeA = a.strMeal.toUpperCase();\n      var recipeB = b.strMeal.toUpperCase();\n      var comparison = 0;\n\n      if (recipeA > recipeB) {\n        comparison = 1;\n      } else if (recipeA < recipeB) {\n        comparison = -1;\n      }\n\n      return comparison;\n    }\n  }, {\n    key: \"compareDesc\",\n    value: function compareDesc(a, b) {\n      // Use toUpperCase() to ignore character casing\n      var recipeA = a.strMeal.toUpperCase();\n      var recipeB = b.strMeal.toUpperCase();\n      var comparison = 0;\n\n      if (recipeA > recipeB) {\n        comparison = 1;\n      } else if (recipeA < recipeB) {\n        comparison = -1;\n      }\n\n      return comparison * -1;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      // const {recipes, currentPage, recipesPerPage} = this.state;\n      //\n      // // Logic for displaying todos\n      // const indexOfLastRecipe = currentPage * recipesPerPage;\n      // const indexOfFirstRecipe = indexOfLastRecipe - recipesPerPage;\n      // const currentRecipes = recipes?recipes.slice(indexOfFirstRecipe, indexOfLastRecipe):[];\n      //\n      //    if(currentRecipes.length===0)\n      //        return <NoResults recipe={this.state.searchRecipe}/>\n      // const renderRecipes = currentRecipes.map(recipe => {\n      //     return <RecipeCard popularRecipe={recipe} loggedIn={this.state.loggedIn}/>\n      // });\n      // // Logic for displaying page numbers\n      // const pageNumbers = [];\n      // for (let i = 1; i <= Math.ceil(recipes?(recipes.length / recipesPerPage):0); i++) {\n      //     pageNumbers.push(i);\n      // }\n      //\n      // const renderPageNumbers = pageNumbers.map(number => {\n      //     return (\n      //         <li className='horizontal-li'\n      //             key={number}\n      //             id={number}\n      //             onClick={this.handleClick}>\n      //             &nbsp;&nbsp;&nbsp;<label className='hover-underline'>{number}</label>\n      //         </li>\n      //     );\n      // });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 472\n        },\n        __self: this\n      }, React.createElement(GuestNav, {\n        user: this.state.user,\n        loggedIn: this.state.loggedIn,\n        logOut: this.logOut,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 473\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        className: \"table-area section-padding\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 477\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 478\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"section-top2 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 480\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481\n        },\n        __self: this\n      }, \"Find \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481\n        },\n        __self: this\n      }, \"a\"), \" recipe\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482\n        },\n        __self: this\n      }, \"Time to get into a yummilicious world.\"))))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-8 offset-lg-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 497\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        action: \"#\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group has-search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 501\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"fa fa-search form-control-feedback\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        placeholder: \"search a million recipes & more\",\n        onChange: this.searchChanged,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 503\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"table-btn text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 508\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        href: \"#\",\n        className: \"template-btn template-btn2 mt-4\",\n        onClick: function onClick() {\n          return _this4.searchRecipe(_this4.state.searchRecipe);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 509\n        },\n        __self: this\n      }, \"Go\")))))))), React.createElement(\"section\", {\n        className: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 520\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 521\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"split fleft\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 522\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"side-menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 523\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 524\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sidebar-categories\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 525\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"head\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 526\n        },\n        __self: this\n      }, \"Filter up your TasteBuds\"), React.createElement(\"ul\", {\n        className: \"main-categories\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 527\n        },\n        __self: this\n      }, this.state.filterCategory.map(function (category) {\n        return React.createElement(FilterRecipes, {\n          category: category.strCategory,\n          findRecipesByCategory: _this4.findRecipesByCategory,\n          findRecipesByCuisine: _this4.findRecipesByCuisine,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 529\n          },\n          __self: this\n        });\n      })))))), React.createElement(\"div\", {\n        className: \"split fright\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 540\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"filter-bar d-flex flex-wrap align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 561\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sorting\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 562\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"sorting mr-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 565\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"pagination\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 566\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"pagination\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 573\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"#\",\n        className: \"prev-arrow head\",\n        onClick: this.sortAscend,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 574\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-sort-alpha-asc\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 574\n        },\n        __self: this\n      })), React.createElement(\"a\", {\n        href: \"#\",\n        className: \"next-arrow head\",\n        onClick: this.sortDescend,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 577\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-sort-alpha-desc\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 577\n        },\n        __self: this\n      })), React.createElement(\"a\", {\n        href: \"#\",\n        onClick: this.resetSort,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 581\n        },\n        __self: this\n      }, \"reset\"))), React.createElement(\"div\", {\n        className: \"food-area \",\n        id: \"food-area\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 586\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 588\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 589\n        },\n        __self: this\n      }, this.state.recipes.length === 0 && React.createElement(NoResults, {\n        recipe: this.state.searched,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 591\n        },\n        __self: this\n      }), this.state.recipes && this.state.recipes.map(function (recipe) {\n        return React.createElement(RecipeCard, {\n          popularRecipe: recipe,\n          recipeOwner: recipe.ownedBy ? recipe.ownedBy : \"Anonymous\",\n          loggedIn: _this4.state.userId ? true : false,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 596\n          },\n          __self: this\n        });\n      }))))))));\n    }\n  }]);\n\n  return ExploreRecipes;\n}(React.Component);\n\nexport default ExploreRecipes;","map":{"version":3,"sources":["/Users/ronn/Desktop/HackUMass/StressThing/src/components/Explore/ExploreRecipes.js"],"names":["React","MealDBServices","RecipeCard","GuestNav","FilterRecipes","getFromStorage","UserServices","NoResults","Link","RecipeServices","ExploreRecipes","props","handleClick","event","setState","currentPage","Number","target","id","findAllCuisines","mealDBServices","then","filterCategory","meals","findAllCategories","findRecipesByCategory","category","recipes","unsortedRecipes","allRecipes","recipeServices","findAllRecipes","recipeFromDb","map","eachRecipeFromDb","recipeFound","idMeal","_id","strMeal","name","ingr","ingredients","length","split","strIngredient1","strIngredient2","strIngredient3","strIngredient4","strIngredient5","strInstructions","steps","strMealThumb","image","endorsedByChef","endorsedByNutritionist","ownedBy","strCategory","console","log","findRecipesByCuisine","cuisine","findRecipesByCuisines","searchRecipe","recipe","updatedSearch","replace","findRecipeByName","searchRecipeByName","searched","sortAscend","state","sortedRecipes","sort","compareAsc","sorted","sortDescend","dummy","compareDesc","logOut","obj","token","userServices","logOutUser","json","success","resetSort","searchChanged","value","popularRecipes","loggedIn","user","userId","recipesPerPage","bind","document","title","verifyUser","unSortedRecipes","a","b","recipeA","toUpperCase","recipeB","comparison","Component"],"mappings":"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","sourcesContent":["import React from 'react'\n\nimport MealDBServices from \"../../services/MealDBServices\";\nimport RecipeCard from \"../LandingPage/RecipeCard\";\nimport GuestNav from \"../LandingPage/GuestNav\";\nimport FilterRecipes from \"./FilterRecipes\";\nimport './Explore.css'\nimport {getFromStorage} from \"../../utils/storage\";\nimport UserServices from \"../../services/UserServices\";\nimport {NoResults} from \"../LandingPage/NoResults\";\nimport {Link} from \"react-router-dom\";\nimport '../../../node_modules/bootstrap/dist/css/bootstrap.css'\nimport RecipeServices from \"../../services/RecipeServices\";\nimport '../../assets/landingpage/css/sidebar.css'\n\nclass ExploreRecipes extends React.Component {\n    constructor(props) {\n        super(props);\n        this.mealDBServices = new MealDBServices();\n        this.recipeServices = new RecipeServices();\n        const obj = getFromStorage('project_april');\n\n\n        this.state = {\n            recipes: [],\n            unsortedRecipes: [],\n            searchRecipe: '',\n            popularRecipes: [],\n            filterCategory: [],\n            sorted: 0,\n            currentPage: 1,\n            loggedIn: false,\n            user: obj &&obj.user[0] ? obj.user[0] : '',\n            userId: obj&&obj.user[0]._id ? obj.user[0]._id : '',\n            recipesPerPage: 6,\n            searched: ''\n        };\n        this.searchRecipe = this.searchRecipe.bind(this);\n        this.userServices = new UserServices();\n\n    }\n\n    componentWillMount() {\n        document.title = \"Explore Recipes\";\n        const obj = getFromStorage('project_april');\n        this.mealDBServices.findAllRecipes()\n            .then(recipes => {\n                this.setState({\n                    recipes: recipes.meals\n                })\n            });\n        if (obj && obj.token) {\n            const {token} = obj;\n            this.userServices.verifyUser(token).then(json => {\n                console.log(json);\n                if (json.success) {\n                    let allRecipes = [];\n                    this.setState({\n                        loggedIn: true\n                    })\n                    this.mealDBServices.findAllRecipes()\n                        .then(recipes => {\n                            recipes.meals.map(recipe => {\n                                    allRecipes = [...allRecipes, recipe];\n                                    console.log(\"After API count\" + allRecipes.length)\n                                }\n                            )\n                        })\n                        .then(() => this.recipeServices.findAllRecipes()\n                            .then(recipeFromDb => {\n                                recipeFromDb.map(eachRecipeFromDb => {\n                                    let recipeFound = {};\n                                    recipeFound.idMeal = eachRecipeFromDb._id;\n\n                                    recipeFound.strMeal = eachRecipeFromDb.name\n                                    var ingr=[];\n                                    ingr=(recipeFromDb.ingredients&&recipeFromDb.ingredients.length>0)?recipeFromDb.ingredients.split(','):[]\n                                    if(ingr.length>0){\n                                        recipeFound.strIngredient1 = ingr[0]\n                                        ingr.length>1?recipeFound.strIngredient2= ingr[0]:recipeFound.strIngredient2=''\n                                        ingr.length>2?recipeFound.strIngredient3 = ingr[0]:recipeFound.strIngredient3=''\n                                        ingr.length>3?recipeFound.strIngredient4= ingr[0]:recipeFound.strIngredient4=''\n                                        ingr.length>4?recipeFound.strIngredient5 = ingr[0]:recipeFound.strIngredient5=''\n                                    }\n                                    recipeFound.strInstructions = eachRecipeFromDb.steps\n                                    recipeFound.strMealThumb = eachRecipeFromDb.image\n                                    recipeFound.endorsedByChef = eachRecipeFromDb.endorsedByChef\n                                    recipeFound.endorsedByNutritionist = eachRecipeFromDb.endorsedByNutritionist\n                                    recipeFound.ownedBy = eachRecipeFromDb.ownedBy\n                                    recipeFound.strCategory = \"Miscellaneous\"\n                                    allRecipes = [...allRecipes, recipeFound]\n                                    console.log(\"After db count\" + allRecipes.length)\n                                })\n\n                            }).then(() => {\n                                this.setState({\n                                    recipes: allRecipes\n                                });\n                            })\n                        )}\n            })\n        }\n    }\n\n\n    componentDidMount() {\n        this.mealDBServices.findAllCategories()\n            .then(filterCategory => {\n                this.setState\n                ({filterCategory: filterCategory.meals})\n            });\n        let allRecipes = [];\n        this.mealDBServices.findAllRecipes()\n            .then(recipes => {\n                recipes.meals.map(recipe => {\n                        allRecipes = [...allRecipes, recipe];\n                        console.log(\"After API count\" + allRecipes.length)\n                    }\n                )\n            })\n            .then(() => this.recipeServices.findAllRecipes()\n                .then(recipeFromDb => {\n                    recipeFromDb.map(eachRecipeFromDb => {\n                        let recipeFound = {};\n                        recipeFound.idMeal = eachRecipeFromDb._id;\n\n                        recipeFound.strMeal = eachRecipeFromDb.name\n                        var ingr=[];\n                        ingr=(recipeFromDb.ingredients&&recipeFromDb.ingredients.length>0)?recipeFromDb.ingredients.split(','):[]\n                        if(ingr.length>0){\n                            recipeFound.strIngredient1 = ingr[0]\n                            ingr.length>1?recipeFound.strIngredient2= ingr[0]:recipeFound.strIngredient2=''\n                            ingr.length>2?recipeFound.strIngredient3 = ingr[0]:recipeFound.strIngredient3=''\n                            ingr.length>3?recipeFound.strIngredient4= ingr[0]:recipeFound.strIngredient4=''\n                            ingr.length>4?recipeFound.strIngredient5 = ingr[0]:recipeFound.strIngredient5=''\n                        }\n                        recipeFound.strInstructions = eachRecipeFromDb.steps\n                        recipeFound.strMealThumb = eachRecipeFromDb.image\n                        recipeFound.endorsedByChef = eachRecipeFromDb.endorsedByChef\n                        recipeFound.endorsedByNutritionist = eachRecipeFromDb.endorsedByNutritionist\n                        recipeFound.ownedBy = eachRecipeFromDb.ownedBy\n                        recipeFound.strCategory = \"Miscellaneous\"\n                        allRecipes = [...allRecipes, recipeFound]\n                        console.log(\"After db count\" + allRecipes.length)\n                    })\n\n                }).then(() => {\n                    this.setState({\n                        unSortedRecipes: allRecipes\n                    });\n                })\n            )\n    }\n\n    handleClick = event => {\n        return this.setState({\n            currentPage: Number(event.target.id)\n        })\n    }\n\n    findAllCuisines = () => {\n        this.mealDBServices.findAllCuisines()\n            .then(filterCategory => {\n                this.setState\n                ({filterCategory: filterCategory.meals})\n            });\n    }\n\n    findAllCategories = () => {\n        this.mealDBServices.findAllCategories()\n            .then(filterCategory => {\n                this.setState\n                ({filterCategory: filterCategory.meals})\n            });\n    }\n\n    findRecipesByCategory = (category) => {\n        if(category!==\"Miscellaneous\") {\n            this.mealDBServices.findRecipesByCategory(category)\n                .then(recipes => {\n                    this.setState\n                    ({\n                        recipes: recipes.meals,\n                        unsortedRecipes: recipes.meals\n                    })\n                })\n        }\n        if(category===\"Miscellaneous\"){\n            var allRecipes=[]\n            this.recipeServices.findAllRecipes()\n                .then(recipeFromDb => {\n                    recipeFromDb.map(eachRecipeFromDb => {\n                        let recipeFound = {};\n                        recipeFound.idMeal = eachRecipeFromDb._id;\n\n                        recipeFound.strMeal = eachRecipeFromDb.name\n                        var ingr=[];\n                        ingr=(recipeFromDb.ingredients&&recipeFromDb.ingredients.length>0)?recipeFromDb.ingredients.split(','):[]\n                        if(ingr.length>0){\n                            recipeFound.strIngredient1 = ingr[0]\n                            ingr.length>1?recipeFound.strIngredient2= ingr[0]:recipeFound.strIngredient2=''\n                            ingr.length>2?recipeFound.strIngredient3 = ingr[0]:recipeFound.strIngredient3=''\n                            ingr.length>3?recipeFound.strIngredient4= ingr[0]:recipeFound.strIngredient4=''\n                            ingr.length>4?recipeFound.strIngredient5 = ingr[0]:recipeFound.strIngredient5=''\n                        }\n                        recipeFound.strInstructions = eachRecipeFromDb.steps\n                        recipeFound.strMealThumb = eachRecipeFromDb.image\n                        recipeFound.endorsedByChef = eachRecipeFromDb.endorsedByChef\n                        recipeFound.endorsedByNutritionist = eachRecipeFromDb.endorsedByNutritionist\n                        recipeFound.ownedBy = eachRecipeFromDb.ownedBy\n                        recipeFound.strCategory = \"Miscellaneous\"\n                        allRecipes = [...allRecipes, recipeFound]\n                        console.log(\"After db count\" + allRecipes.length)\n                    })\n\n\n                }).then(()=>\n                this.setState\n                ({\n                    recipes: allRecipes\n\n                }))\n               // allRecipes.map(eachRecipe=>{\n\n            //})\n        }\n    }\n\n    findRecipesByCuisine = (cuisine) => {\n        this.mealDBServices.findRecipesByCuisines(cuisine)\n            .then(recipes => {\n                this.setState\n                ({recipes: recipes.meals})\n            });\n    }\n\n\n    searchRecipe = (recipe) => {\n\n        // this.mealDBServices.findRecipeByName(recipe).then(recipes => {\n        //\n        //     this.setState\n        //     ({\n        //         recipes: recipes.meals,\n        //         searched: recipe\n        //     })\n        //\n        // });\n\n        let allRecipes = [];\n        let updatedSearch = recipe.replace(\" \", \"&\");\n        this.mealDBServices.findRecipeByName(updatedSearch)\n            .then(recipes => {\n                recipes.meals && recipes.meals.map(recipe => {\n                        allRecipes = [...allRecipes, recipe];\n                        console.log(\"After API count\" + allRecipes.length)\n                    }\n                )\n            })\n            .then(() => this.recipeServices.searchRecipeByName(recipe)\n                .then(recipeFromDb => {\n                    recipeFromDb.map(eachRecipeFromDb => {\n                        let recipeFound = {};\n                        recipeFound.idMeal = eachRecipeFromDb._id;\n\n                        recipeFound.strMeal = eachRecipeFromDb.name\n                        var ingr=[];\n                        ingr=(recipeFromDb.ingredients&&recipeFromDb.ingredients.length>0)?recipeFromDb.ingredients.split(','):[]\n                        if(ingr.length>0){\n                            recipeFound.strIngredient1 = ingr[0]\n                            ingr.length>1?recipeFound.strIngredient2= ingr[0]:recipeFound.strIngredient2=''\n                            ingr.length>2?recipeFound.strIngredient3 = ingr[0]:recipeFound.strIngredient3=''\n                            ingr.length>3?recipeFound.strIngredient4= ingr[0]:recipeFound.strIngredient4=''\n                            ingr.length>4?recipeFound.strIngredient5 = ingr[0]:recipeFound.strIngredient5=''\n                        }\n                        recipeFound.strInstructions = eachRecipeFromDb.steps\n                        recipeFound.strMealThumb = eachRecipeFromDb.image\n                        recipeFound.endorsedByChef = eachRecipeFromDb.endorsedByChef\n                        recipeFound.endorsedByNutritionist = eachRecipeFromDb.endorsedByNutritionist\n                        recipeFound.ownedBy = eachRecipeFromDb.ownedBy\n                        recipeFound.strCategory = \"Miscellaneous\"\n                        allRecipes = [...allRecipes, recipeFound]\n                        console.log(\"After db count\" + allRecipes.length)\n                    })\n\n                }).then(() => {\n                    this.setState({\n                        recipes: allRecipes,\n                        searched: recipe\n                    });\n                })\n            )\n\n\n    }\n\n\n    compareAsc(a, b) {\n        // Use toUpperCase() to ignore character casing\n        const recipeA = a.strMeal.toUpperCase();\n        const recipeB = b.strMeal.toUpperCase();\n\n        let comparison = 0;\n        if (recipeA > recipeB) {\n            comparison = 1;\n        } else if (recipeA < recipeB) {\n            comparison = -1;\n        }\n        return comparison;\n    }\n\n    compareDesc(a, b) {\n        // Use toUpperCase() to ignore character casing\n        const recipeA = a.strMeal.toUpperCase();\n        const recipeB = b.strMeal.toUpperCase();\n\n        let comparison = 0;\n        if (recipeA > recipeB) {\n            comparison = 1;\n        } else if (recipeA < recipeB) {\n            comparison = -1;\n        }\n        return comparison * -1;\n    }\n\n    sortAscend = () => {\n        var unsortedRecipes = this.state.recipes;\n        const sortedRecipes = unsortedRecipes.sort(this.compareAsc);\n\n        this.setState\n        ({\n            recipes: sortedRecipes,\n            sorted: 1\n        })\n        this.mealDBServices.findAllRecipes()\n            .then(recipes => {\n                this.setState\n                ({\n\n                    unsortedRecipes: recipes.meals\n                })\n            });\n\n    };\n\n    sortDescend = () => {\n        var dummy = this.state.recipes;\n        // const unsortedRecipes=this.state.recipes;\n        console.log()\n        const sortedRecipes = dummy.sort(this.compareDesc);\n\n        this.setState\n        ({\n            recipes: sortedRecipes,\n            sorted: 1\n        })\n        this.mealDBServices.findAllRecipes()\n            .then(recipes => {\n                this.setState\n                ({\n\n                    unsortedRecipes: recipes.meals\n                })\n            });\n\n\n    };\n\n    logOut = () => {\n        const obj = getFromStorage('project_april');\n        if (obj && obj.token) {\n            const {token} = obj;\n            this.userServices.logOutUser(token)\n                .then(json => {\n                    console.log(json);\n                    if (json.success) {\n                        this.setState({\n                            token: ''\n                        });\n                    }\n                });\n        }\n    };\n\n    resetSort = () => {\n        let allRecipes = [];\n        this.mealDBServices.findAllRecipes()\n            .then(recipes => {\n                recipes.meals.map(recipe => {\n                        allRecipes = [...allRecipes, recipe];\n                        console.log(\"After API count\" + allRecipes.length)\n                    }\n                )\n            })\n            .then(() => this.recipeServices.findAllRecipes()\n                .then(recipeFromDb => {\n                    recipeFromDb.map(eachRecipeFromDb => {\n                        let recipeFound = {};\n                        recipeFound.idMeal = eachRecipeFromDb._id;\n\n                        recipeFound.strMeal = eachRecipeFromDb.name\n                        var ingr=[];\n                        ingr=(recipeFromDb.ingredients&&recipeFromDb.ingredients.length>0)?recipeFromDb.ingredients.split(','):[]\n                        if(ingr.length>0){\n                            recipeFound.strIngredient1 = ingr[0]\n                            ingr.length>1?recipeFound.strIngredient2= ingr[0]:recipeFound.strIngredient2=''\n                            ingr.length>2?recipeFound.strIngredient3 = ingr[0]:recipeFound.strIngredient3=''\n                            ingr.length>3?recipeFound.strIngredient4= ingr[0]:recipeFound.strIngredient4=''\n                            ingr.length>4?recipeFound.strIngredient5 = ingr[0]:recipeFound.strIngredient5=''\n                        }\n                        recipeFound.strInstructions = eachRecipeFromDb.steps\n                        recipeFound.strMealThumb = eachRecipeFromDb.image\n                        recipeFound.endorsedByChef = eachRecipeFromDb.endorsedByChef\n                        recipeFound.endorsedByNutritionist = eachRecipeFromDb.endorsedByNutritionist\n                        recipeFound.ownedBy = eachRecipeFromDb.ownedBy\n                        recipeFound.strCategory = \"Miscellaneous\"\n                        allRecipes = [...allRecipes, recipeFound]\n                        console.log(\"After db count\" + allRecipes.length)\n                    })\n\n                }).then(() => {\n                    this.setState({\n                        recipes: allRecipes\n                    });\n                })\n            )\n\n    }\n\n\n    searchChanged = (event) => {\n        this.setState(\n            {\n                searchRecipe: event.target.value\n            });\n    };\n\n    render() {\n        // const {recipes, currentPage, recipesPerPage} = this.state;\n        //\n        // // Logic for displaying todos\n        // const indexOfLastRecipe = currentPage * recipesPerPage;\n        // const indexOfFirstRecipe = indexOfLastRecipe - recipesPerPage;\n        // const currentRecipes = recipes?recipes.slice(indexOfFirstRecipe, indexOfLastRecipe):[];\n        //\n        //    if(currentRecipes.length===0)\n        //        return <NoResults recipe={this.state.searchRecipe}/>\n        // const renderRecipes = currentRecipes.map(recipe => {\n        //     return <RecipeCard popularRecipe={recipe} loggedIn={this.state.loggedIn}/>\n        // });\n        // // Logic for displaying page numbers\n        // const pageNumbers = [];\n        // for (let i = 1; i <= Math.ceil(recipes?(recipes.length / recipesPerPage):0); i++) {\n        //     pageNumbers.push(i);\n        // }\n        //\n        // const renderPageNumbers = pageNumbers.map(number => {\n        //     return (\n        //         <li className='horizontal-li'\n        //             key={number}\n        //             id={number}\n        //             onClick={this.handleClick}>\n        //             &nbsp;&nbsp;&nbsp;<label className='hover-underline'>{number}</label>\n        //         </li>\n        //     );\n        // });\n\n        return (\n\n            <div>\n                {/*<LandingPageHeader/>*/}\n                <div id=\"header\">\n                    <GuestNav user={this.state.user} loggedIn={this.state.loggedIn} logOut={this.logOut}/>\n                </div>\n                <div>\n                    <section className=\"table-area section-padding\">\n                        <div className=\"container\">\n                            <div className=\"row\">\n                                <div className=\"col-lg-12\">\n                                    <div className=\"section-top2 text-center\">\n                                        <h3>Find <span>a</span> recipe</h3>\n                                        <p><i>Time to get into a yummilicious world.</i></p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"row\">\n                                {/*<div className=\"col-lg-12\">*/}\n                                    {/*<div className=\"section-top2 text-center\">*/}\n                                        {/*<p className=\"text-white link-nav\"><Link className=\"text-white link-nav\" to='/home'>Home </Link> <span*/}\n                                            {/*className=\"lnr lnr-arrow-right\"></span>*/}\n                                            {/*<Link className=\"text-white link-nav\" to={`/explore-recipes`}>Explore</Link>*/}\n                                        {/*</p>*/}\n                                    {/*</div>*/}\n                                {/*</div>*/}\n                            </div>\n                            <div className=\"row\">\n                                <div className=\"col-lg-8 offset-lg-2\">\n                                    <form action=\"#\">\n\n\n                                        <div className=\"form-group has-search\">\n                                            <span className=\"fa fa-search form-control-feedback\"></span>\n                                            <input type=\"text\" className=\"form-control\"\n                                                   placeholder=\"search a million recipes & more\"\n                                                   onChange={this.searchChanged}/>\n                                        </div>\n\n                                        <div className=\"table-btn text-center\">\n                                            <button href=\"#\" className=\"template-btn template-btn2 mt-4\"\n                                                    onClick={() => this.searchRecipe(this.state.searchRecipe)}>Go\n                                            </button>\n                                        </div>\n                                    </form>\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n                </div>\n\n                <section className=\"header\">\n                    <div className=\"row wrap\">\n                        <div className=\"split fleft\">\n                            <div className={\"side-menu\"}>\n                                <div className=\"\">\n                                    <div className=\"sidebar-categories\">\n                                        <div className=\"head\">Filter up your TasteBuds</div>\n                                        <ul className=\"main-categories\">\n                                            {this.state.filterCategory.map(category =>\n                                                <FilterRecipes category={category.strCategory}\n                                                               findRecipesByCategory={this.findRecipesByCategory}\n                                                               findRecipesByCuisine={this.findRecipesByCuisine}/>\n                                            )}\n\n\n                                        </ul>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"split fright\">\n                            {/*<div className=\"filter-bar d-flex flex-wrap align-items-center\">*/}\n                            {/*<div className=\"sorting\">*/}\n\n                            {/*</div>*/}\n                            {/*<div className=\"sorting mr-auto\">*/}\n\n                            {/*</div>*/}\n                            {/*<div className=\"pagination\">*/}\n                            {/*<a href=\"#\" className=\"prev-arrow head\" onClick={this.sortAscend}><i*/}\n                            {/*className=\"fa fa-sort-alpha-asc\"*/}\n                            {/*aria-hidden=\"true\"></i></a>*/}\n                            {/*<a href=\"#\" className=\"next-arrow head\" onClick={this.sortDescend}><i*/}\n                            {/*className=\"fa fa-sort-alpha-desc\"*/}\n                            {/*aria-hidden=\"true\"></i></a>*/}\n\n                            {/*<a href=\"#\" onClick={this.resetSort}>reset</a>*/}\n\n                            {/*</div>*/}\n                            {/*</div>*/}\n\n                            <div className=\"filter-bar d-flex flex-wrap align-items-center\">\n                                <div className=\"sorting\">\n\n                                </div>\n                                <div className=\"sorting mr-auto\">\n                                    <div className=\"pagination\">\n\n\n                                    </div>\n                                </div>\n\n\n                                <div className=\"pagination\">\n                                    <a href=\"#\" className=\"prev-arrow head\" onClick={this.sortAscend}><i\n                                        className=\"fa fa-sort-alpha-asc\"\n                                        aria-hidden=\"true\"></i></a>\n                                    <a href=\"#\" className=\"next-arrow head\" onClick={this.sortDescend}><i\n                                        className=\"fa fa-sort-alpha-desc\"\n                                        aria-hidden=\"true\"></i></a>\n\n                                    <a href=\"#\" onClick={this.resetSort}>reset</a>\n                                </div>\n                            </div>\n\n\n                            <div className=\"food-area \" id={\"food-area\"}>\n\n                                <div className=\"container\">\n                                    <div className=\"row\">\n\n                                        {(this.state.recipes.length===0) && <NoResults recipe={this.state.searched}/>}\n                                        {\n\n                                            (this.state.recipes)\n                                            && (this.state.recipes.map(recipe =>\n                                                    <RecipeCard popularRecipe={recipe} recipeOwner={recipe.ownedBy?recipe.ownedBy:\"Anonymous\"}\n                                                                loggedIn={this.state.userId ? true : false}/>)\n\n\n                                            )\n                                        }\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n\n            </div>\n        )\n    }\n}\n\nexport default ExploreRecipes;\n"]},"metadata":{},"sourceType":"module"}