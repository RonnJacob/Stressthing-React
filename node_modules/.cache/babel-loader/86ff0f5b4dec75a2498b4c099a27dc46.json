{"ast":null,"code":"import _classCallCheck from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _objectSpread from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/ronn/Desktop/HackUMass/StressThing/src/components/Log/Log.js\";\nimport React from 'react'; // import '../../../node_modules/font-awesome.css'\n\nimport '../../../node_modules/bootstrap/dist/css/bootstrap.css';\nimport './Log.css';\nimport '../../assets/css/main.css';\nimport Select from 'react-select';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faExclamation } from '@fortawesome/free-solid-svg-icons';\nimport { Redirect } from 'react-router-dom';\nimport { getFromStorage } from '../../utils/storage';\nimport { setInStorage } from \"../../utils/storage\";\nimport RegularUserServices from \"../../services/RegularUserServices\";\nimport StresserServices from \"../../services/StresserServices\";\nvar customStyles = {\n  option: function option(provided, state) {\n    return _objectSpread({}, provided, {\n      color: '#686868',\n      fontSize: '13px',\n      fontWeight: '300'\n    });\n  },\n  container: function container(provided, state) {\n    return _objectSpread({}, provided, {\n      marginBottom: '17'\n    });\n  },\n  placeholder: function placeholder(provided, state) {\n    return _objectSpread({}, provided, {\n      color: '#747474',\n      fontSize: '13px',\n      fontWeight: '300'\n    });\n  },\n  valueContainer: function valueContainer(provided, state) {\n    return _objectSpread({}, provided, {\n      color: '#747474',\n      fontSize: '13px',\n      fontWeight: '300'\n    });\n  }\n};\n\nvar Log =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Log, _React$Component);\n\n  function Log(props) {\n    var _this;\n\n    _classCallCheck(this, Log);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Log).call(this, props));\n\n    _this.validateUser = function () {\n      var errorsReg = [];\n\n      if (document.getElementById('register_username').value.length === 0) {\n        errorsReg.push('Username cannot be empty.');\n      }\n\n      if (document.getElementById('register_password').value.length <= 2) {\n        errorsReg.push('Password must be greater than 2 charaxcters');\n      } else if (document.getElementById('register_verify_password').value !== document.getElementById('register_password').value) {\n        errorsReg.push('Passwords do not match');\n      }\n\n      return errorsReg;\n    };\n\n    _this.registerUser = function () {\n      _this.setState({\n        errors: _this.validateUser()\n      });\n\n      _this.state.user['username'] = document.getElementById('register_username').value;\n\n      _this.userServices.checkUserNameValidity(_this.state.user['username']).then(function (res) {\n        if (res.length !== 0) {\n          // var errors = this.validateUser();\n          // Needn't show other errors if username is already taken.\n          var errors = [];\n          errors.push('Username has been taken.');\n\n          _this.setState({\n            errors: errors\n          });\n        } else {\n          _this.state.user['password'] = document.getElementById('register_password').value;\n          _this.state.user['password'] = document.getElementById('register_verify_password').value;\n        }\n      });\n    };\n\n    _this.addStresser = function () {\n      var stresser = {};\n      stresser['cause'] = document.getElementById('stress-thing').value;\n      stresser['ownedBy'] = {\n        '_id': _this.state.userId\n      };\n\n      _this.setState({\n        signInError: stresser['cause']\n      });\n\n      _this.setState({\n        stresser: stresser\n      });\n\n      _this.stresserServices.addStresser(stresser).then(function () {\n        return console.log(stresser);\n      });\n    };\n\n    var obj = getFromStorage('project_april');\n    _this.state = {\n      user: obj.user[0],\n      userId: obj.user[0]._id,\n      errors: [],\n      stresser: [],\n      toHome: false,\n      token: '',\n      signInError: ''\n    };\n    {\n      /*        this.userServices = new UserServices();\n       */\n    }\n    _this.regularUserServices = new RegularUserServices();\n    _this.stresserServices = new StresserServices();\n    {\n      /*        this.chefServices = new ChefServices();\n             this.nutritionistServices = new NutritionistServices();\n       */\n    }\n    return _this;\n  }\n\n  _createClass(Log, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this.state.toHome === true) {\n        return React.createElement(Redirect, {\n          to: {\n            pathname: '/home',\n            state: {\n              user: this.state.user\n            }\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        });\n      }\n\n      var selectedOption = this.state.selectedOption;\n      library.add(faExclamation);\n      return React.createElement(\"div\", {\n        className: \"full-height\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"navbar top-links pt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        class: \"text-white col-sm-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"StressThing\"), React.createElement(\"a\", {\n        className: \"primary-btn text-uppercase m-20\",\n        style: {\n          color: 'white'\n        },\n        id: \"dashboard\",\n        href: \"../landingp\",\n        onClick: this.registerUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Dashboard\"), React.createElement(\"a\", {\n        className: \"primary-btn text-uppercase m-20\",\n        style: {\n          color: 'white'\n        },\n        id: \"logout\",\n        href: \"../login\",\n        onClick: this.registerUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Logout\"))), React.createElement(\"section\", {\n        className: \"reservation-area section-gap relative\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row justify-content-center align-bottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"text-white mb-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"Log\")), React.createElement(\"div\", {\n        className: \"row justify-content-center mt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"text-white mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"What's StressThing you out?\")), this.state.signInError && React.createElement(\"p\", {\n        className: \"form-errors\",\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(FontAwesomeIcon, {\n        className: \"form-error-icons\",\n        icon: \"exclamation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }), \"\\xA0\\xA0\", this.state.signInError, \" has been added as stress factor.\"), React.createElement(\"div\", {\n        className: \"row justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-6 justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control mb-4\",\n        style: {\n          borderRadius: \"20px\"\n        },\n        name: \"stress-thing\",\n        id: \"stress-thing\",\n        placeholder: \"add your StressThings one at a time, please!\",\n        required: true,\n        onFocus: function onFocus() {\n          _this2.placeholder = '';\n        },\n        onBlur: function onBlur() {\n          _this2.placeholder = 'Stressthing';\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row justify-content-center mt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"primary-btn m-20\",\n        style: {\n          color: 'white'\n        },\n        id: \"stressor-log\",\n        onClick: this.addStresser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"Add StressThing\")))));\n    }\n  }]);\n\n  return Log;\n}(React.Component);\n\nexport default Log;","map":{"version":3,"sources":["/Users/ronn/Desktop/HackUMass/StressThing/src/components/Log/Log.js"],"names":["React","Select","library","FontAwesomeIcon","faExclamation","Redirect","getFromStorage","setInStorage","RegularUserServices","StresserServices","customStyles","option","provided","state","color","fontSize","fontWeight","container","marginBottom","placeholder","valueContainer","Log","props","validateUser","errorsReg","document","getElementById","value","length","push","registerUser","setState","errors","user","userServices","checkUserNameValidity","then","res","addStresser","stresser","userId","signInError","stresserServices","console","log","obj","_id","toHome","token","regularUserServices","pathname","selectedOption","add","textAlign","borderRadius","Component"],"mappings":"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","sourcesContent":["import React from 'react'\n// import '../../../node_modules/font-awesome.css'\nimport '../../../node_modules/bootstrap/dist/css/bootstrap.css'\nimport './Log.css'\nimport '../../assets/css/main.css'\nimport Select from 'react-select'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faExclamation } from '@fortawesome/free-solid-svg-icons'\nimport {Redirect} from 'react-router-dom'\nimport {getFromStorage} from '../../utils/storage';\nimport {setInStorage} from \"../../utils/storage\";\nimport RegularUserServices from \"../../services/RegularUserServices\";\nimport StresserServices from \"../../services/StresserServices\";\n\n\nconst customStyles = {\n\n\n    option: (provided, state) => ({\n        ...provided,\n        color: '#686868',\n        fontSize: '13px',\n        fontWeight: '300',\n    }),\n    container: (provided, state) => ({\n        ...provided,\n        marginBottom: '17'\n    }),\n    placeholder: (provided, state) => ({\n        ...provided,\n        color: '#747474',\n        fontSize: '13px',\n        fontWeight: '300',\n    }),\n\n    valueContainer: (provided, state) => ({\n        ...provided,\n        color: '#747474',\n        fontSize: '13px',\n        fontWeight: '300',\n    }),\n\n};\n\nclass Log extends React.Component{\n    constructor(props){\n        super(props);\n        const obj =  getFromStorage('project_april');\n        this.state = {\n            user: obj.user[0],\n            userId: obj.user[0]._id,\n            errors: [],\n            stresser: [],\n            toHome: false,\n            token: '',\n            signInError: ''\n        };\n{/*        this.userServices = new UserServices();\n  */}\n        this.regularUserServices = new RegularUserServices();\n        this.stresserServices = new StresserServices();\n{/*        this.chefServices = new ChefServices();\n        this.nutritionistServices = new NutritionistServices();\n  */}\n    }\n\n\n    validateUser = () => {\n        const errorsReg = [];\n        if(document.getElementById('register_username').value.length===0){\n            errorsReg.push('Username cannot be empty.');\n        }\n\n        if(document.getElementById('register_password').value.length <= 2){\n            errorsReg.push('Password must be greater than 2 charaxcters');\n        }\n\n        else if(document.getElementById('register_verify_password').value\n            !== document.getElementById('register_password').value){\n            errorsReg.push('Passwords do not match');\n        }\n\n        return errorsReg;\n    };\n\n    registerUser = () => {\n        this.setState({errors: this.validateUser()});\n        this.state.user['username'] = document.getElementById('register_username').value;\n        this.userServices.checkUserNameValidity(this.state.user['username']).then(res=>{\n            if(res.length!==0){\n                // var errors = this.validateUser();\n                // Needn't show other errors if username is already taken.\n                var errors = [];\n                errors.push('Username has been taken.');\n                this.setState({errors: errors});\n            }\n            else{\n                this.state.user['password'] = document.getElementById('register_password').value;\n                this.state.user['password'] = document.getElementById('register_verify_password').value;\n            }\n        });\n    };\n\n    addStresser = () => {\n        var stresser = {};\n        stresser['cause'] = document.getElementById('stress-thing').value;\n        stresser['ownedBy']= {'_id': this.state.userId};\n        this.setState({signInError: stresser['cause']});\n        this.setState({stresser: stresser});\n        this.stresserServices.addStresser(stresser).then(()=> console.log(stresser));\n    };\n\n    render(){\n\n        if(this.state.toHome === true){\n            return <Redirect to={{pathname: '/home', state: { user: this.state.user}}}/>\n        }\n\n        const { selectedOption } = this.state;\n        library.add(faExclamation);\n        return(\n            <div className=\"full-height\">\n                <div className=\"navbar top-links pt-5\">\n                    <div className=\"container\">\n                        <h1 class=\"text-white col-sm-5\">StressThing</h1>\n\n                        <a className=\"primary-btn text-uppercase m-20\" style={{color: 'white'}}\n                           id=\"dashboard\" href=\"../landingp\" onClick={this.registerUser}>Dashboard\n                        </a>\n\n                        <a className=\"primary-btn text-uppercase m-20\" style={{color: 'white'}}\n                           id=\"logout\" href=\"../login\" onClick={this.registerUser}>Logout\n                        </a>\n\n                    </div>\n                </div>\n\n                <section className=\"reservation-area section-gap relative\">\n\n                    <div className=\"container\">\n                        <div className=\"row justify-content-center align-bottom\">\n                            <h2 className=\"text-white mb-5\">Log</h2>\n                        </div>\n                        <div className=\"row justify-content-center mt-2\">\n                            <h5 className=\"text-white mb-4\">What's StressThing you out?</h5>\n                        </div>\n                        {(this.state.signInError) &&\n                            <p className=\"form-errors\" style={{textAlign:\"center\"}}>\n                                <FontAwesomeIcon className=\"form-error-icons\" icon=\"exclamation\"/>\n                                &nbsp;&nbsp;{this.state.signInError} has been added as stress factor.\n                            </p>\n                        }\n                        <div className=\"row justify-content-center\">\n                            <div className=\"col-6 justify-content-center\">\n                                <input type=\"text\" className=\"form-control mb-4\" style={{borderRadius:\"20px\"}}\n                                       name=\"stress-thing\" id=\"stress-thing\"\n                                       placeholder=\"add your StressThings one at a time, please!\"\n                                       required\n                                       onFocus={()=>{this.placeholder = ''}}\n                                       onBlur={()=>{this.placeholder = 'Stressthing'}}>\n                                </input>\n                            </div>\n                        </div>\n                        <div className=\"row justify-content-center mt-5\">\n                            <a className=\"primary-btn m-20\" style={{color: 'white'}}\n                               id=\"stressor-log\" onClick={this.addStresser}>\n                               Add StressThing\n                            </a>\n                        </div>\n                    </div>\n                </section>\n            </div>\n        )\n    }\n}\n\nexport default Log\n"]},"metadata":{},"sourceType":"module"}