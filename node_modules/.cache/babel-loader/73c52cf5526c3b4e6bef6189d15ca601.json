{"ast":null,"code":"import _classCallCheck from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/ronn/Desktop/HackUMass/StressThing/src/components/LoginPage/LoginPage.js\";\nimport React, { Component } from 'react';\nimport './LoginPage.css';\nimport '../../assets/css/main.css';\nimport { Redirect } from 'react-router-dom';\nimport { setInStorage, getFromStorage } from '../../utils/storage';\nimport UserServices from \"../../services/UserServices\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faExclamation } from '@fortawesome/free-solid-svg-icons';\n\nvar LoginPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LoginPage, _Component);\n\n  function LoginPage(props) {\n    var _this;\n\n    _classCallCheck(this, LoginPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginPage).call(this, props));\n\n    _this.signIn = function () {\n      var user = {};\n      user.username = document.getElementById('login_username').value;\n      user.password = document.getElementById('login_password').value;\n\n      _this.userServices.loginUser(user.username, user.password).then(function (json) {\n        if (json.success) {\n          setInStorage('project_april', {\n            token: json.token,\n            user: json.user\n          });\n\n          _this.setState({\n            signInError: json.message,\n            token: json.token,\n            user: json.user[0],\n            successfulLogin: true\n          });\n        } else {\n          _this.setState({\n            signInError: json.message,\n            successfulLogin: false\n          });\n        }\n      });\n    };\n\n    _this.state = {\n      user: {},\n      successfulLogin: false,\n      token: '',\n      signInError: ''\n    };\n    _this.userServices = new UserServices();\n    return _this;\n  }\n\n  _createClass(LoginPage, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {// const obj = getFromStorage('project_april');\n      // if (obj && obj.token) {\n      //     const { token } = obj;\n      //     this.userServices.verifyUser(token).then(json => {\n      //             if (json.success) {\n      //                 window.location.href='/home';\n      //             }\n      //         });\n      // }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this.state.successfulLogin === true) {\n        return React.createElement(Redirect, {\n          to: {\n            pathname: '/landingp',\n            state: {\n              user: this.state.user\n            }\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        });\n      }\n\n      library.add(faExclamation);\n      return React.createElement(\"div\", {\n        id: \"login-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        className: \"reservation-area section-gap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row justify-content-between align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-5 margin-auto bg-white reservation-right\",\n        style: {\n          borderRadius: \"40px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"form-wrap\",\n        action: \"#\",\n        style: {\n          borderRadius: \"40px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Sign In\"), this.state.signInError && React.createElement(\"p\", {\n        className: \"form-errors\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(FontAwesomeIcon, {\n        className: \"form-error-icons\",\n        icon: \"exclamation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), \"\\xA0\\xA0\", this.state.signInError), React.createElement(\"label\", {\n        className: \"form-labels\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Enter username:\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control mb-3\",\n        style: {\n          borderRadius: \"20px\"\n        },\n        name: \"username\",\n        id: \"login_username\",\n        placeholder: \" Your username\",\n        required: true,\n        onFocus: function onFocus() {\n          _this2.placeholder = '';\n        },\n        onBlur: function onBlur() {\n          _this2.placeholder = 'Your username';\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"form-labels\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"Enter password:\"), React.createElement(\"input\", {\n        type: \"password\",\n        className: \"form-control\",\n        style: {\n          borderRadius: \"20px\"\n        },\n        name: \"password\",\n        id: \"login_password\",\n        placeholder: \"Your password\",\n        required: true,\n        onFocus: function onFocus() {\n          return _this2.placeholder = '';\n        },\n        onBlur: function onBlur() {\n          return _this2.placeholder = 'Your password';\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(\"a\", {\n        className: \"primary-btn text-uppercase mt-20\",\n        id: \"login_user\",\n        style: {\n          color: 'white'\n        },\n        onClick: this.signIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"Sign In\"), React.createElement(\"p\", {\n        className: \"mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"If you have not registered yet,\\xA0\", React.createElement(\"a\", {\n        className: \"text-primary font-weight-bold\",\n        href: \"/register\",\n        style: {\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Sign Up\"), \" now\"), React.createElement(\"p\", {\n        className: \"text-center mt-3 font-weight-bold text-danger\",\n        id: \"loading\",\n        style: {\n          display: 'none'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      })))))));\n    }\n  }]);\n\n  return LoginPage;\n}(Component);\n\nexport default LoginPage;","map":{"version":3,"sources":["/Users/ronn/Desktop/HackUMass/StressThing/src/components/LoginPage/LoginPage.js"],"names":["React","Component","Redirect","setInStorage","getFromStorage","UserServices","FontAwesomeIcon","library","faExclamation","LoginPage","props","signIn","user","username","document","getElementById","value","password","userServices","loginUser","then","json","success","token","setState","signInError","message","successfulLogin","state","pathname","add","borderRadius","placeholder","color","display"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport './LoginPage.css'\nimport '../../assets/css/main.css'\nimport {Redirect} from 'react-router-dom'\nimport {setInStorage, getFromStorage} from '../../utils/storage';\nimport UserServices from \"../../services/UserServices\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { faExclamation } from '@fortawesome/free-solid-svg-icons'\n\nclass LoginPage extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            user: {},\n            successfulLogin: false,\n            token: '',\n            signInError: ''\n        };\n        this.userServices = new UserServices();\n    }\n\n\n    componentWillMount() {\n        // const obj = getFromStorage('project_april');\n        // if (obj && obj.token) {\n        //     const { token } = obj;\n        //     this.userServices.verifyUser(token).then(json => {\n        //             if (json.success) {\n        //                 window.location.href='/home';\n        //             }\n        //         });\n        // }\n    }\n\n    signIn = () => {\n        const user = {};\n        user.username = document.getElementById('login_username').value;\n        user.password = document.getElementById('login_password').value;\n        this.userServices.loginUser(user.username, user.password).then(json => {\n                if (json.success) {\n                    setInStorage('project_april', { token: json.token , user: json.user});\n                    this.setState({\n                        signInError: json.message,\n                        token: json.token,\n                        user: json.user[0],\n                        successfulLogin: true\n                    });\n                } else {\n                    this.setState({\n                        signInError: json.message,\n                        successfulLogin: false\n                    });\n                }\n        });\n    };\n\n    render(){\n        if(this.state.successfulLogin === true){\n            return <Redirect to={{pathname: '/landingp', state: { user: this.state.user}}}/>\n        }\n        library.add(faExclamation);\n        return (\n            <div id=\"login-page\">\n                <section className=\"reservation-area section-gap\">\n                    <div className=\"container\">\n                        <div className=\"row justify-content-between align-items-center\">\n                            <div className=\"col-lg-5 margin-auto bg-white reservation-right\" style={{borderRadius:\"40px\"}}>\n                                <form className=\"form-wrap\" action=\"#\" style={{borderRadius:\"40px\"}}>\n                                    <h2 className=\"mb-4\">Sign In</h2>\n                                    {(this.state.signInError) &&\n                                        <p className=\"form-errors\">\n                                            <FontAwesomeIcon className=\"form-error-icons\" icon=\"exclamation\"/>\n                                            &nbsp;&nbsp;{this.state.signInError}\n                                        </p>\n                                    }\n                                    <label className=\"form-labels\">Enter username:</label>\n                                    <input type=\"text\" className=\"form-control mb-3\" style={{borderRadius:\"20px\"}}\n                                           name=\"username\" id=\"login_username\"\n                                           placeholder=\" Your username\"\n                                           required\n                                           onFocus={()=>{this.placeholder = ''}}\n                                           onBlur={()=>{this.placeholder = 'Your username'}}>\n                                    </input>\n                                    <label className=\"form-labels\">Enter password:</label>\n                                    <input type=\"password\" className=\"form-control\" style={{borderRadius:\"20px\"}}\n                                           name=\"password\"\n                                           id=\"login_password\" placeholder=\"Your password\"\n                                           required\n                                           onFocus={()=>this.placeholder = ''}\n                                           onBlur={()=>this.placeholder = 'Your password'}>\n                                    </input>\n                                    <a className=\"primary-btn text-uppercase mt-20\" id=\"login_user\"\n                                       style={{color: 'white'}} onClick={this.signIn}>Sign In</a>\n                                    <p className=\"mt-3\">If you have not registered yet,&nbsp;\n                                        <a className=\"text-primary font-weight-bold\"\n                                        href=\"/register\"\n                                        style={{color: 'white'}}>Sign Up</a> now</p>\n                                    <p className=\"text-center mt-3 font-weight-bold text-danger\"\n                                       id=\"loading\"\n                                       style ={{display: 'none'}}>\n                                    </p>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n            </div>\n        )\n    }\n}\nexport default LoginPage;\n"]},"metadata":{},"sourceType":"module"}