{"ast":null,"code":"import _classCallCheck from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/ronn/Desktop/HackUMass/StressThing/src/components/recipes/AddRecipe.js\";\nimport React from 'react';\nimport './Recipe.css';\nimport { BrowserRouter as Router, Link, Route } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faExclamation } from '@fortawesome/free-solid-svg-icons';\nimport { getFromStorage } from \"../../utils/storage\";\nimport { Button, Modal } from \"react-bootstrap\";\nimport UserServices from \"../../services/UserServices\";\n\nvar AddRecipe =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AddRecipe, _React$Component);\n\n  function AddRecipe(props) {\n    var _this;\n\n    _classCallCheck(this, AddRecipe);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddRecipe).call(this, props));\n\n    _this.addRecipe = function (recipe) {\n      if (recipe.name.length < 1) {\n        _this.setState({\n          error: 'A recipe must have a name.'\n        });\n      } else if (recipe.ingredients.length < 1) {\n        _this.setState({\n          error: 'A recipe must have atleast one ingredient'\n        });\n      } else if (recipe.steps.length < 1) {\n        _this.setState({\n          error: 'A recipe must have atleast one step'\n        });\n      } else {\n        _this.setState({\n          addSuccessful: true,\n          recipeToBeSaved: recipe\n        });\n      }\n    };\n\n    _this.handleClose = function () {\n      _this.props.addRecipe(_this.state.recipeToBeSaved).then(function () {\n        return _this.setState({\n          addSuccessful: false\n        });\n      });\n    };\n\n    _this.state = {\n      error: '',\n      addSuccessful: false,\n      recipeToBeSaved: {}\n    };\n    _this.userServices = new UserServices();\n    return _this;\n  }\n\n  _createClass(AddRecipe, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      document.title = \"What's Cooking?\";\n      var obj = getFromStorage('project_april');\n\n      if (obj && obj.token) {\n        var token = obj.token;\n        this.userServices.verifyUser(token).then(function (json) {\n          if (!json.success) {\n            window.location.href = '/';\n          }\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var name, ingredients, steps;\n      var obj = getFromStorage('project_april');\n      var userId = obj.user[0]._id;\n      library.add(faExclamation);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(\"section\", {\n        className: \"about-banner relative\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"overlay overlay-bg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row d-flex align-items-center justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"about-content col-lg-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"My Recipes\"), React.createElement(\"p\", {\n        className: \"text-white link-nav\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Home \"), \" \", React.createElement(\"span\", {\n        className: \"lnr lnr-arrow-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: \"/user/\".concat(userId, \"/myrecipes\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"My Recipes\"), React.createElement(\"span\", {\n        className: \"lnr lnr-arrow-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), React.createElement(\"a\", {\n        href: \"#\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Add Recipe\")))))), React.createElement(\"section\", {\n        className: \"home-about-area section-gap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"mb-5 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Add Recipe\"), this.state.error && React.createElement(\"p\", {\n        className: \"form-errors\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(FontAwesomeIcon, {\n        className: \"form-error-icons\",\n        icon: \"exclamation\",\n        style: {\n          color: '#F47D41'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), \"\\xA0\\xA0\", this.state.error), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-6 home-about-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"modal-title\",\n        id: \"exampleModalLabel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Add Recipe\"), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"close\",\n        \"data-dismiss\": \"modal\",\n        \"aria-label\": \"Close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"\\xD7\"))), React.createElement(\"div\", {\n        className: \"modal-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        id: \"add_ingredients\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"recipe_name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"Recipe Name: \"), React.createElement(\"input\", {\n        ref: function ref(node) {\n          return name = node;\n        },\n        type: \"text\",\n        className: \"form-control\",\n        id: \"recipe_name\",\n        \"aria-describedby\": \"recipeHelp\",\n        placeholder: \"Enter Recipe Name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"recipe_ingredients\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"Ingredients Needed: \"), React.createElement(\"input\", {\n        ref: function ref(node) {\n          return ingredients = node;\n        },\n        type: \"text\",\n        className: \"form-control\",\n        id: \"recipe_ingredients\",\n        \"aria-describedby\": \"recipeHelp\",\n        placeholder: \"Please enter ingredients separated by commas and no spaces\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"recipe_steps\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Steps: \"), React.createElement(\"textarea\", {\n        ref: function ref(node) {\n          return steps = node;\n        },\n        type: \"text\",\n        className: \"form-control\",\n        id: \"recipe_steps\",\n        \"aria-describedby\": \"recipeHelp\",\n        placeholder: \"Enter Steps\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"modal-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"middle-div btn btn-primary\",\n        id: \"save_recipe\",\n        onClick: function onClick() {\n          var recipe = {\n            name: name.value,\n            ownedBy: userId,\n            steps: steps.value,\n            category: 'Miscellaneous',\n            ingredients: ingredients.value.split(',').map(function (item) {\n              return item.trim();\n            }),\n            image: ''\n          };\n\n          _this2.addRecipe(recipe);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Save changes\"), React.createElement(Link, {\n        to: \"/user/\".concat(userId, \"/myrecipes\"),\n        className: \"middle-div btn btn-danger\",\n        id: \"save_recipe\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"Cancel\")))), React.createElement(\"div\", {\n        className: \"col-lg-6 home-about-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: require('./add-img.jpg'),\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }))))), React.createElement(Modal, {\n        show: this.state.addSuccessful,\n        onHide: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"Yay\")), React.createElement(Modal.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"Recipe has been added.\"), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"Ok\"))));\n    }\n  }]);\n\n  return AddRecipe;\n}(React.Component);\n\nexport default AddRecipe;","map":{"version":3,"sources":["/Users/ronn/Desktop/HackUMass/StressThing/src/components/recipes/AddRecipe.js"],"names":["React","BrowserRouter","Router","Link","Route","FontAwesomeIcon","library","faExclamation","getFromStorage","Button","Modal","UserServices","AddRecipe","props","addRecipe","recipe","name","length","setState","error","ingredients","steps","addSuccessful","recipeToBeSaved","handleClose","state","then","userServices","document","title","obj","token","verifyUser","json","success","window","location","href","userId","user","_id","add","color","node","value","ownedBy","category","split","map","item","trim","image","require","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Recipe.css'\nimport {BrowserRouter as Router, Link, Route} from \"react-router-dom\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { faExclamation } from '@fortawesome/free-solid-svg-icons'\nimport {getFromStorage} from \"../../utils/storage\";\nimport {Button, Modal} from \"react-bootstrap\";\nimport UserServices from \"../../services/UserServices\";\n\n\nclass AddRecipe extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            error: '',\n            addSuccessful: false,\n            recipeToBeSaved: {}\n        };\n        this.userServices = new UserServices();\n    }\n\n    componentWillMount() {\n        document.title = \"What's Cooking?\";\n        const obj = getFromStorage('project_april');\n        if (obj && obj.token) {\n            const { token } = obj;\n            this.userServices.verifyUser(token).then(json => {\n                if(!json.success){\n                    window.location.href='/';\n                }\n            });\n        }\n    }\n    addRecipe = (recipe) => {\n        if(recipe.name.length < 1){\n            this.setState({\n                error: 'A recipe must have a name.'\n            })\n        }\n        else if(recipe.ingredients.length < 1){\n            this.setState({\n                error: 'A recipe must have atleast one ingredient'\n            })\n        }\n\n        else if(recipe.steps.length < 1){\n            this.setState({\n                error: 'A recipe must have atleast one step'\n            })\n        }\n        else{\n            this.setState({\n                addSuccessful: true,\n                recipeToBeSaved: recipe\n            })\n        }\n    };\n\n    handleClose = () => {\n\n        this.props.addRecipe(this.state.recipeToBeSaved)\n            .then(()=>this.setState({\n                addSuccessful: false,\n            }));\n\n    };\n    render() {\n        let name, ingredients, steps;\n        const obj = getFromStorage('project_april');\n        const userId = obj.user[0]._id;\n        library.add(faExclamation);\n        return(\n            <div>\n                <div id=\"header\">\n                    {/*<HomePageNav/>*/}\n                </div>\n                <section className=\"about-banner relative\">\n                    <div className=\"overlay overlay-bg\"></div>\n                    <div className=\"container\">\n                        <div className=\"row d-flex align-items-center justify-content-center\">\n                            <div className=\"about-content col-lg-12\">\n                                <h1 className=\"text-white\">\n                                    My Recipes\n                                </h1>\n                                <p className=\"text-white link-nav\"><Link to='/'>Home </Link> <span\n                                    className=\"lnr lnr-arrow-right\"></span>\n                                    {/*TODO need to change the hyper link to my recipes*/}\n                                    <Link to={`/user/${userId}/myrecipes`}>My Recipes</Link>\n                                    <span\n                                        className=\"lnr lnr-arrow-right\"></span>\n                                    <a href=\"#\">Add Recipe</a>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n                <section className=\"home-about-area section-gap\">\n                    <div className=\"container\">\n                        <h1 className=\"mb-5 text-center\">Add Recipe</h1>\n                        {(this.state.error) &&\n                        <p className=\"form-errors\">\n                            <FontAwesomeIcon className=\"form-error-icons\" icon=\"exclamation\"\n                                            style={{color: '#F47D41'}}/>\n                            &nbsp;&nbsp;{this.state.error}\n                        </p>\n                        }\n                        <div className=\"row\">\n                            <div className=\"col-lg-6 home-about-left\">\n                                <div className=\"modal-content\">\n                                    <div className=\"modal-header\">\n                                        <h5 className=\"modal-title\" id=\"exampleModalLabel\">Add Recipe</h5>\n                                        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                            <span aria-hidden=\"true\">&times;</span>\n                                        </button>\n                                    </div>\n                                    <div className=\"modal-body\">\n                                        <form id=\"add_ingredients\">\n                                            <div className=\"form-group\">\n                                                <label htmlFor=\"recipe_name\">Recipe Name: </label>\n                                                <input ref={node => name = node} type=\"text\" className=\"form-control\"\n                                                       id=\"recipe_name\"\n                                                       aria-describedby=\"recipeHelp\" placeholder=\"Enter Recipe Name\"/>\n                                            </div>\n                                            <div className=\"form-group\">\n                                                <label htmlFor=\"recipe_ingredients\">Ingredients Needed: </label>\n                                                <input ref={node => ingredients = node} type=\"text\" className=\"form-control\"\n                                                       id=\"recipe_ingredients\"\n                                                       aria-describedby=\"recipeHelp\"\n                                                       placeholder=\"Please enter ingredients separated by commas and no spaces\"/>\n                                            </div>\n                                            <div className=\"form-group\">\n                                                <label htmlFor=\"recipe_steps\">Steps: </label>\n                                                <textarea ref={node => steps = node} type=\"text\" className=\"form-control\"\n                                                          id=\"recipe_steps\"\n                                                          aria-describedby=\"recipeHelp\" placeholder=\"Enter Steps\"/>\n                                            </div>\n                                        </form>\n                                    </div>\n                                    <div className=\"modal-footer\">\n                                        <button className=\"middle-div btn btn-primary\" id=\"save_recipe\"\n                                                onClick={() => {\n                                                    let recipe = {\n                                                        name: name.value,\n                                                        ownedBy: userId,\n                                                        steps: steps.value,\n                                                        category:'Miscellaneous',\n                                                        ingredients: ingredients.value.split(',').map(function(item) {\n                                                            return item.trim();\n                                                        }),\n                                                        image: ''\n                                                    };\n                                                    this.addRecipe(recipe);\n                                                }}>Save changes\n                                        </button>\n                                        <Link to={`/user/${userId}/myrecipes`} className=\"middle-div btn btn-danger\"\n                                              id=\"save_recipe\">Cancel\n                                        </Link>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"col-lg-6 home-about-right\">\n                                <img src={require('./add-img.jpg')} alt=\"\"/>\n                            </div>\n\n                        </div>\n                    </div>\n                </section>\n                <Modal show={this.state.addSuccessful} onHide={this.handleClose}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>Yay</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>Recipe has been added.</Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"primary\" onClick={this.handleClose}>\n                            Ok\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n            </div>\n        )\n    }\n}\n\n\nexport default AddRecipe\n"]},"metadata":{},"sourceType":"module"}