{"ast":null,"code":"import _toConsumableArray from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _objectSpread from \"/Users/ronn/Desktop/HackUMass/StressThing/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/ronn/Desktop/HackUMass/StressThing/src/components/Insights/Insights.js\";\nimport React from 'react'; // import '../../../node_modules/font-awesome.css'\n\nimport '../../../node_modules/bootstrap/dist/css/bootstrap.css';\nimport './Insights.css';\nimport '../../assets/css/main.css';\nimport Select from 'react-select';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faExclamation } from '@fortawesome/free-solid-svg-icons';\nimport { Redirect } from 'react-router-dom';\nimport { getFromStorage } from \"../../utils/storage\";\nimport { setInStorage } from \"../../utils/storage\";\nimport RegularUserServices from \"../../services/RegularUserServices\";\nimport StresserServices from \"../../services/StresserServices\";\nimport { Pie } from 'react-chartjs-2';\nimport { Component } from 'react';\nvar customStyles = {\n  option: function option(provided, state) {\n    return _objectSpread({}, provided, {\n      color: '#686868',\n      fontSize: '13px',\n      fontWeight: '300'\n    });\n  },\n  container: function container(provided, state) {\n    return _objectSpread({}, provided, {\n      marginBottom: '17'\n    });\n  },\n  placeholder: function placeholder(provided, state) {\n    return _objectSpread({}, provided, {\n      color: '#747474',\n      fontSize: '13px',\n      fontWeight: '300'\n    });\n  },\n  valueContainer: function valueContainer(provided, state) {\n    return _objectSpread({}, provided, {\n      color: '#747474',\n      fontSize: '13px',\n      fontWeight: '300'\n    });\n  }\n};\n\nvar Insights =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Insights, _Component);\n\n  function Insights(props) {\n    var _this$state;\n\n    var _this;\n\n    _classCallCheck(this, Insights);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Insights).call(this, props));\n\n    _this.validateUser = function () {\n      var errorsReg = [];\n\n      if (document.getElementById('register_username').value.length === 0) {\n        errorsReg.push('Username cannot be empty.');\n      }\n\n      if (document.getElementById('register_password').value.length <= 2) {\n        errorsReg.push('Password must be greater than 2 charaxcters');\n      } else if (document.getElementById('register_verify_password').value !== document.getElementById('register_password').value) {\n        errorsReg.push('Passwords do not match');\n      }\n\n      return errorsReg;\n    };\n\n    _this.registerUser = function () {\n      _this.setState({\n        errors: _this.validateUser()\n      });\n\n      _this.state.user['username'] = document.getElementById('register_username').value;\n\n      _this.userServices.checkUserNameValidity(_this.state.user['username']).then(function (res) {\n        if (res.length !== 0) {\n          // var errors = this.validateUser();\n          // Needn't show other errors if username is already taken.\n          var errors = [];\n          errors.push('Username has been taken.');\n\n          _this.setState({\n            errors: errors\n          });\n        } else {\n          _this.state.user['password'] = document.getElementById('register_password').value;\n          _this.state.user['password'] = document.getElementById('register_verify_password').value;\n        }\n      });\n    };\n\n    var obj = getFromStorage('project_april');\n    _this.state = (_this$state = {\n      errors: [],\n      user: obj.user[0],\n      userId: obj.user[0]._id\n    }, _defineProperty(_this$state, \"user\", {}), _defineProperty(_this$state, \"toHome\", false), _defineProperty(_this$state, \"token\", ''), _defineProperty(_this$state, \"signInError\", ''), _defineProperty(_this$state, \"stressLabels\", []), _defineProperty(_this$state, \"stressDataValues\", []), _this$state);\n    {\n      /*        this.userServices = new UserServices();\r\n       */\n    }\n    _this.regularUserServices = new RegularUserServices();\n    _this.stresserServices = new StresserServices();\n\n    _this.stresserServices.findStresser(obj.user[0]._id).then(function (res) {\n      console.log(res.json());\n\n      if (res !== undefined || res.length !== 0) {\n        for (var i = 0; i < res.length; i++) {\n          _this.setState({\n            stressLabels: [].concat(_toConsumableArray(_this.state.stressLabels), [res[i].cause])\n          });\n\n          _this.setState({\n            stressDataValues: [].concat(_toConsumableArray(_this.state.stressDataValues), [res[i].count])\n          });\n        }\n\n        console.log(_this.state.stressLabels);\n        console.log(_this.state.stressDataValues);\n      }\n    });\n\n    {\n      /*        this.chefServices = new ChefServices();\r\n             this.nutritionistServices = new NutritionistServices();\r\n       */\n    }\n    return _this;\n  }\n\n  _createClass(Insights, [{\n    key: \"render\",\n    value: function render() {\n      if (this.state.toHome === true) {\n        return React.createElement(Redirect, {\n          to: {\n            pathname: '/home',\n            state: {\n              user: this.state.user\n            }\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        });\n      }\n\n      var selectedOption = this.state.selectedOption;\n      library.add(faExclamation);\n      return React.createElement(\"div\", {\n        className: \"full-height\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"navbar top-links pt-5\",\n        style: {\n          height: \"inherit\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        class: \"text-white\",\n        style: {\n          textAlign: 'centre'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"Insights\"), React.createElement(Pie, {\n        data: {\n          labels: this.state.stressLabels,\n          datasets: [{\n            data: this.state.stressDataValues\n          }]\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Insights;\n}(Component);\n\nexport default Insights;","map":{"version":3,"sources":["/Users/ronn/Desktop/HackUMass/StressThing/src/components/Insights/Insights.js"],"names":["React","Select","library","FontAwesomeIcon","faExclamation","Redirect","getFromStorage","setInStorage","RegularUserServices","StresserServices","Pie","Component","customStyles","option","provided","state","color","fontSize","fontWeight","container","marginBottom","placeholder","valueContainer","Insights","props","validateUser","errorsReg","document","getElementById","value","length","push","registerUser","setState","errors","user","userServices","checkUserNameValidity","then","res","obj","userId","_id","regularUserServices","stresserServices","findStresser","console","log","json","undefined","i","stressLabels","cause","stressDataValues","count","toHome","pathname","selectedOption","add","height","textAlign","labels","datasets","data"],"mappings":"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","sourcesContent":["import React from 'react'\r\n// import '../../../node_modules/font-awesome.css'\r\nimport '../../../node_modules/bootstrap/dist/css/bootstrap.css'\r\nimport './Insights.css'\r\nimport '../../assets/css/main.css'\r\nimport Select from 'react-select'\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faExclamation } from '@fortawesome/free-solid-svg-icons'\r\nimport {Redirect} from 'react-router-dom'\r\nimport {getFromStorage} from \"../../utils/storage\"\r\nimport {setInStorage} from \"../../utils/storage\"\r\nimport RegularUserServices from \"../../services/RegularUserServices\"\r\nimport StresserServices from \"../../services/StresserServices\";\r\nimport {Pie} from 'react-chartjs-2'\r\n\r\nimport {Component} from 'react';\r\n\r\n\r\nconst customStyles = {\r\n\r\n\r\n    option: (provided, state) => ({\r\n        ...provided,\r\n        color: '#686868',\r\n        fontSize: '13px',\r\n        fontWeight: '300',\r\n    }),\r\n    container: (provided, state) => ({\r\n        ...provided,\r\n        marginBottom: '17'\r\n    }),\r\n    placeholder: (provided, state) => ({\r\n        ...provided,\r\n        color: '#747474',\r\n        fontSize: '13px',\r\n        fontWeight: '300',\r\n    }),\r\n\r\n    valueContainer: (provided, state) => ({\r\n        ...provided,\r\n        color: '#747474',\r\n        fontSize: '13px',\r\n        fontWeight: '300',\r\n    }),\r\n\r\n};\r\n\r\nclass Insights extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        const obj =  getFromStorage('project_april');\r\n        this.state = {\r\n            errors: [],\r\n            user: obj.user[0],\r\n            userId: obj.user[0]._id,\r\n            user: {},\r\n            toHome: false,\r\n            token: '',\r\n            signInError: '',\r\n            stressLabels: [],\r\n            stressDataValues: []\r\n\r\n        };\r\n{/*        this.userServices = new UserServices();\r\n  */}\r\n        this.regularUserServices = new RegularUserServices();\r\n        this.stresserServices = new StresserServices();\r\n        this.stresserServices.findStresser(obj.user[0]._id).then(res=>{\r\n          console.log(res.json());\r\n          if(res!==undefined || res.length !== 0){\r\n            for (var i = 0; i < res.length; i++) {\r\n                this.setState({stressLabels: [...this.state.stressLabels, res[i].cause]});\r\n                this.setState({stressDataValues: [...this.state.stressDataValues, res[i].count]});\r\n            }\r\n            console.log(this.state.stressLabels);\r\n            console.log(this.state.stressDataValues);\r\n          }\r\n\r\n        });\r\n{/*        this.chefServices = new ChefServices();\r\n        this.nutritionistServices = new NutritionistServices();\r\n  */}\r\n    }\r\n\r\n\r\n    validateUser = () => {\r\n        const errorsReg = [];\r\n        if(document.getElementById('register_username').value.length===0){\r\n            errorsReg.push('Username cannot be empty.');\r\n        }\r\n\r\n        if(document.getElementById('register_password').value.length <= 2){\r\n            errorsReg.push('Password must be greater than 2 charaxcters');\r\n        }\r\n\r\n        else if(document.getElementById('register_verify_password').value\r\n            !== document.getElementById('register_password').value){\r\n            errorsReg.push('Passwords do not match');\r\n        }\r\n\r\n        return errorsReg;\r\n    };\r\n\r\n    registerUser = () => {\r\n        this.setState({errors: this.validateUser()});\r\n        this.state.user['username'] = document.getElementById('register_username').value;\r\n        this.userServices.checkUserNameValidity(this.state.user['username']).then(res=>{\r\n            if(res.length!==0){\r\n                // var errors = this.validateUser();\r\n                // Needn't show other errors if username is already taken.\r\n                var errors = [];\r\n                errors.push('Username has been taken.');\r\n                this.setState({errors: errors});\r\n            }\r\n            else{\r\n                this.state.user['password'] = document.getElementById('register_password').value;\r\n                this.state.user['password'] = document.getElementById('register_verify_password').value;\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n    render(){\r\n\r\n        if(this.state.toHome === true){\r\n            return <Redirect to={{pathname: '/home', state: { user: this.state.user}}}/>\r\n        }\r\n\r\n        const { selectedOption } = this.state;\r\n        library.add(faExclamation);\r\n        return(\r\n            <div className=\"full-height\">\r\n                <div className=\"navbar top-links pt-5\" style={{height: \"inherit\"}}>\r\n                    <div className=\"container\">\r\n                        <h1 class=\"text-white\" style={{textAlign: 'centre'}}>Insights</h1>\r\n                        <Pie\r\n                      data={{\r\n\r\n                          labels : this.state.stressLabels,\r\n                          datasets : [{\r\n                              data : this.state.stressDataValues\r\n                          }]\r\n                          }}\r\n\r\n                      />\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n}\r\n\r\nexport default Insights\r\n"]},"metadata":{},"sourceType":"module"}